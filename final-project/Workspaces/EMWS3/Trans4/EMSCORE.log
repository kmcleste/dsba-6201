*------------------------------------------------------------*
* Score Log
Date:                May 05, 2022
Time:                00:29:14
*------------------------------------------------------------*
11841  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11842  RFM = substr(pctl_GiftTimeLast_REV,1,2)||substr(pctl_GiftCntAll,1,2)||substr(pctl_GiftAll,1,2);
11843  run;

NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11844  quit;

11845  data WORK._CODEINPUT1;
11846  length ROLE $32 LEVEL $8 REPORT $1;
11847  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11848  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11849  run;

NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11850  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11851  by INPUTNAME;
11852  run;

NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11853  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11854  run;

NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11855  data WORK.TRANS_FORMULAVARS;
11856  length UNAME $32;
11857  set WORK.TRANS_FORMULAVARS;
11858  UNAME = upcase(INPUTNAME);
11859  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11860  proc sort data=WORK.TRANS_FORMULAVARS;
11861  by UNAME;
11862  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11863  data _temp;
11864  set EMWS3.Trans4_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11865  length UNAME $32;
11866  UNAME = upcase(INPUTNAME);
11867  run;

NOTE: There were 28 observations read from the data set EMWS3.TRANS4_VARIABLESET.
NOTE: The data set WORK._TEMP has 28 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11868  proc sort data=_temp;
11869  by UNAME;
11870  run;

NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 28 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11871  data WORK.TRANS_FORMULAVARS;
11872  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11873  by UNAME;
11874  if _a and _b then output;
11875  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11876  proc sort data=WORK.TRANS_FORMULAVARS;
11877  by _FormulaNum UNAME;
11878  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11879  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11880  length ROLE $32 REPORT $1;
11881  set WORK.TRANS_FORMULAVARS;
11882  by _FormulaNum;
11883  if INPUTROLE = 'TARGET' then output _target;
11884  if first._FormulaNum then do;
11885  if ^last._FormulaNum then do;
11886  INPUTNAME='';
11887  INPUTROLE='';
11888  INPUTTYPE='';
11889  INPUTREPORT='';
11890  end;
11891  output WORK.TRANS_FORMULAVARS;
11892  end;
11893  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11894  data _temp;
11895  set EMWS3.Trans4_FORMULA;
11896  _FormulaNum = _N_;
11897  run;

NOTE: There were 1 observations read from the data set EMWS3.TRANS4_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11898  data WORK.TRANS_CODEFORMULA;
11899  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11900  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11901     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11902     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11903     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11904  drop _FormulaNum UNAME;
11905  _targetFlag = 0;
11906  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11907  by _FormulaNum;
11908  _targetFlag = 0;
11909  if _c then _targetFlag=1;
11910  if INPUT ne '' then if _a and ^_b then delete;
11911  if ROLE = '' then do;
11912  if INPUTROLE = '' then ROLE='INPUT';
11913  else ROLE = INPUTROLE;
11914  end;
11915  if REPORT = '' then do;
11916  if INPUTREPORT = '' then REPORT='N';
11917  else REPORT = INPUTREPORT;
11918  end;
11919  run;

NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

11920  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\FORMULAFLOWCODE.sas";
11921  data _null_;
11922  set WORK.TRANS_CODEFORMULA;
11923  file _code;
11924  if type eq 'C' and length > 0 then do;
11925  put 'length ' name ' $' length ';';
11926  end;
11927  if format ne '' then do;
11928  put 'format ' name format ';';
11929  end;
11930  length deqLabel $202;
11931  if label ne '' then do;
11932  deqlabel = tranwrd(label, '"', '""');
11933  put 'label ' name '="' deqlabel '";';
11934  end;
11935  if name ne '' and formula ne '' then do;
11936  put name '=' formula ';';
11937  end;
11938  run;

NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=05May2022:00:29:14,
      Create Time=05May2022:00:13:03

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 95.
      The maximum record length was 95.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11939  filename _code;
NOTE: Fileref _CODE has been deassigned.

11940  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\FORMULAPUBLISHCODE.sas";
11941  data _null_;
11942  set WORK.TRANS_CODEFORMULA;
11943  file _code;
11944  if _targetFlag eq 0 then do;
11945  if type eq 'C' and length > 0 then do;
11946  put 'length ' name ' $' length ';';
11947  end;
11948  if format ne '' then do;
11949  put 'format ' name format ';';
11950  end;
11951  length deqLabel $202;
11952  if label ne '' then do;
11953  deqlabel = tranwrd(label, '"', '""');
11954  put 'label ' name '="' deqlabel '";';
11955  end;
11956  if name ne '' and formula ne '' then do;
11957  put name '=' formula ';';
11958  end;
11959  end;
11960  run;

NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=05May2022:00:29:14,
      Create Time=05May2022:00:13:03

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 95.
      The maximum record length was 95.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11961  filename _code;
NOTE: Fileref _CODE has been deassigned.

11962  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\FORMULADELTACODE.sas";
11963  data _null_;
11964  set WORK.TRANS_CODEFORMULA;
11965  file _code;
11966  length String $200;
11967  if ROLE eq '' then ROLE = 'REJECTED';
11968  if REPORT eq '' then REPORT = 'N';
11969  String = 'if NAME="'!!strip(name)!!'" then do;';
11970  put / string;
11971  String = '   ROLE ="'!!strip(role)!!'";';
11972  put string;
11973  String = '   REPORT ="'!!strip(report)!!'";';
11974  put string;
11975  if LEVEL ne '' then do;
11976  String = '   LEVEL ="'!!strip(level)!!'";';
11977  put string;
11978  end;
11979  put 'end;';
11980  if INPUTNAME ne '' then do;
11981  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11982  put String;
11983  end;
11984  run;

NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=05May2022:00:29:14,
      Create Time=05May2022:00:13:03

NOTE: 6 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 22.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11985  filename _code;
NOTE: Fileref _CODE has been deassigned.

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11986  proc print data = EMWS3.Trans4_FORMULA(obs=500) noobs label;
11987  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11988  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11989  var Name ROLE LEVEL FORMULA;
11990  run;

NOTE: There were 1 observations read from the data set EMWS3.TRANS4_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11991  title9;
11992  title10;

11993  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans4\EMFLOWSCORE.sas";
11994  *------------------------------------------------------------*;
11995  * Trans4: Scoring DATA data;
11996  *------------------------------------------------------------*;
11997  data EMWS3.Trans4_TRAIN
11998  / view=EMWS3.Trans4_TRAIN
11999  ;
12000  set EMWS3.Trans2_TRAIN
12001  ;
12002  %inc emflow;
12007  run;

NOTE: DATA STEP view saved on file EMWS3.TRANS4_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS3.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.10 seconds
      cpu time            0.10 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.10 seconds
      

12008  quit;
12009  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12010  *------------------------------------------------------------*;
12011  * Trans4: Computing metadata for TRAIN data;
12012  *------------------------------------------------------------*;

NOTE: View EMWS3.TRANS4_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
      
NOTE: View EMWS3.TRANS4_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      
