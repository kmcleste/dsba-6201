*------------------------------------------------------------*
User:                Kyle McLester
Date:                May 04, 2022
Time:                23:39:32
Site:                70080897
Platform:            X64_10HOME
Maintenance Release: 9.04.01M6P111518
EM Version:          15.1
* 
*------------------------------------------------------------*
* Training Log
Date:                May 04, 2022
Time:                23:39:29
*------------------------------------------------------------*
11434  proc freq data=EMWS3.Trans_VariableSet noprint;
11435  table ROLE*LEVEL/out=WORK.TransMETA;
11436  run;
 
NOTE: There were 27 observations read from the data set EMWS3.TRANS_VARIABLESET.
NOTE: The data set WORK.TRANSMETA has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
 
 
11437  proc print data=WORK.TransMETA label noobs;
11438  var ROLE LEVEL COUNT;
11439  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11440  title9 ' ';
11441  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11442  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11443  title10;
 
11444  data WORK.M06FDNQV;
11445  set WORK.M06FDNQV;
11446  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11447  run;
 
NOTE: There were 27 observations read from the data set WORK.M06FDNQV.
NOTE: The data set WORK.M06FDNQV has 26 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS3.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
11512  *------------------------------------------------------------*;
11513  * Trans: Computing Summary Statistics;
11514  *------------------------------------------------------------*;
11515  data WORK.M30MJ5WB;
11516  set WORK.M30MJ5WB;
11517  if (role = 'REJECTED') then role = 'INPUT';
11518  run;
 
NOTE: There were 26 observations read from the data set WORK.M30MJ5WB.
NOTE: The data set WORK.M30MJ5WB has 26 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11519  *------------------------------------------------------------* ;
11520  * EM: DMDBClass Macro ;
11521  *------------------------------------------------------------* ;
11522  %macro DMDBClass;
11523      DemCluster(ASC) DemGender(ASC) DemHomeOwner(ASC) StatusCat96NK(ASC)
11524     StatusCatStarAll(ASC) TargetB(DESC)
11525  %mend DMDBClass;
11526  *------------------------------------------------------------* ;
11527  * EM: DMDBVar Macro ;
11528  *------------------------------------------------------------* ;
11529  %macro DMDBVar;
11530      DemAge DemMedHomeValue DemMedIncome DemPctVeterans GiftAvg36 GiftAvgAll
11531     GiftAvgCard36 GiftAvgLast GiftCnt36 GiftCntAll GiftCntCard36 GiftCntCardAll
11532     GiftTimeFirst GiftTimeLast PromCnt12 PromCnt36 PromCntAll PromCntCard12
11533     PromCntCard36 PromCntCardAll
11534  %mend DMDBVar;
11535  *------------------------------------------------------------*;
11536  * EM: Create DMDB;
11537  *------------------------------------------------------------*;
11538  proc dmdb batch data=EMWS3.Ids_DATA
11539  dmdbcat=WORK.EM_DMDB
11540  classout=WORK.Transclassout
11541  maxlevel = 513
11542  ;
11543  class %DMDBClass;
11544  var %DMDBVar;
11545  target
11546  TargetB
11547  ;
11548  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: View EMWS3.IDS_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS3.IDS_DATA.
NOTE: The data set WORK.TRANSCLASSOUT has 69 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
 
11549  quit;
11550  *--- end code ---*;
 
11551  data WORK.TransINTERVALMETA;
11552  set WORK.M06FDNQV;
11553  if LEVEL ne 'INTERVAL' then delete;
11554  run;
 
NOTE: There were 26 observations read from the data set WORK.M06FDNQV.
NOTE: The data set WORK.TRANSINTERVALMETA has 20 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11555  *------------------------------------------------------------*;
11556  * Trans: Determining Variables to Scale;
11557  *------------------------------------------------------------*;
11558  data WORK.M0YO1F79;
11559  set WORK.M0YO1F79;
11560  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11561  run;
 
NOTE: There were 0 observations read from the data set WORK.M0YO1F79.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M0YO1F79 has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS3.IDS_DATA.VIEW used (Total process time):
      real time           0.31 seconds
      cpu time            0.20 seconds
 
*------------------------------------------------------------*
* Score Log
Date:                May 04, 2022
Time:                23:39:31
*------------------------------------------------------------*
11665  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11666  GiftTimeLast_REV = -1*GiftTimeLast;
11667  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.09 seconds
      cpu time            0.00 seconds
 
 
11668  quit;
 
11669  data WORK._CODEINPUT1;
11670  length ROLE $32 LEVEL $8 REPORT $1;
11671  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11672  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11673  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11674  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11675  by INPUTNAME;
11676  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11677  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11678  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11679  data WORK.TRANS_FORMULAVARS;
11680  length UNAME $32;
11681  set WORK.TRANS_FORMULAVARS;
11682  UNAME = upcase(INPUTNAME);
11683  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11684  proc sort data=WORK.TRANS_FORMULAVARS;
11685  by UNAME;
11686  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11687  data _temp;
11688  set EMWS3.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11689  length UNAME $32;
11690  UNAME = upcase(INPUTNAME);
11691  run;
 
NOTE: There were 27 observations read from the data set EMWS3.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11692  proc sort data=_temp;
11693  by UNAME;
11694  run;
 
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11695  data WORK.TRANS_FORMULAVARS;
11696  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11697  by UNAME;
11698  if _a and _b then output;
11699  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11700  proc sort data=WORK.TRANS_FORMULAVARS;
11701  by _FormulaNum UNAME;
11702  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11703  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11704  length ROLE $32 REPORT $1;
11705  set WORK.TRANS_FORMULAVARS;
11706  by _FormulaNum;
11707  if INPUTROLE = 'TARGET' then output _target;
11708  if first._FormulaNum then do;
11709  if ^last._FormulaNum then do;
11710  INPUTNAME='';
11711  INPUTROLE='';
11712  INPUTTYPE='';
11713  INPUTREPORT='';
11714  end;
11715  output WORK.TRANS_FORMULAVARS;
11716  end;
11717  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11718  data _temp;
11719  set EMWS3.Trans_FORMULA;
11720  _FormulaNum = _N_;
11721  run;
 
NOTE: There were 1 observations read from the data set EMWS3.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11722  data WORK.TRANS_CODEFORMULA;
11723  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11724  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11725     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11726     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11727     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11728  drop _FormulaNum UNAME;
11729  _targetFlag = 0;
11730  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11731  by _FormulaNum;
11732  _targetFlag = 0;
11733  if _c then _targetFlag=1;
11734  if INPUT ne '' then if _a and ^_b then delete;
11735  if ROLE = '' then do;
11736  if INPUTROLE = '' then ROLE='INPUT';
11737  else ROLE = INPUTROLE;
11738  end;
11739  if REPORT = '' then do;
11740  if INPUTREPORT = '' then REPORT='N';
11741  else REPORT = INPUTREPORT;
11742  end;
11743  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11744  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\FORMULAFLOWCODE.sas";
11745  data _null_;
11746  set WORK.TRANS_CODEFORMULA;
11747  file _code;
11748  if type eq 'C' and length > 0 then do;
11749  put 'length ' name ' $' length ';';
11750  end;
11751  if format ne '' then do;
11752  put 'format ' name format ';';
11753  end;
11754  length deqLabel $202;
11755  if label ne '' then do;
11756  deqlabel = tranwrd(label, '"', '""');
11757  put 'label ' name '="' deqlabel '";';
11758  end;
11759  if name ne '' and formula ne '' then do;
11760  put name '=' formula ';';
11761  end;
11762  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=04May2022:23:39:30,
      Create Time=04May2022:23:39:30
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 35.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11763  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11764  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\FORMULAPUBLISHCODE.sas";
11765  data _null_;
11766  set WORK.TRANS_CODEFORMULA;
11767  file _code;
11768  if _targetFlag eq 0 then do;
11769  if type eq 'C' and length > 0 then do;
11770  put 'length ' name ' $' length ';';
11771  end;
11772  if format ne '' then do;
11773  put 'format ' name format ';';
11774  end;
11775  length deqLabel $202;
11776  if label ne '' then do;
11777  deqlabel = tranwrd(label, '"', '""');
11778  put 'label ' name '="' deqlabel '";';
11779  end;
11780  if name ne '' and formula ne '' then do;
11781  put name '=' formula ';';
11782  end;
11783  end;
11784  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=04May2022:23:39:30,
      Create Time=04May2022:23:39:30
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 35.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11785  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11786  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\FORMULADELTACODE.sas";
11787  data _null_;
11788  set WORK.TRANS_CODEFORMULA;
11789  file _code;
11790  length String $200;
11791  if ROLE eq '' then ROLE = 'REJECTED';
11792  if REPORT eq '' then REPORT = 'N';
11793  String = 'if NAME="'!!strip(name)!!'" then do;';
11794  put / string;
11795  String = '   ROLE ="'!!strip(role)!!'";';
11796  put string;
11797  String = '   REPORT ="'!!strip(report)!!'";';
11798  put string;
11799  if LEVEL ne '' then do;
11800  String = '   LEVEL ="'!!strip(level)!!'";';
11801  put string;
11802  end;
11803  put 'end;';
11804  if INPUTNAME ne '' then do;
11805  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11806  put String;
11807  end;
11808  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=04May2022:23:39:30,
      Create Time=04May2022:23:39:30
 
NOTE: 7 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11809  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11810  proc print data = EMWS3.Trans_FORMULA(obs=500) noobs label;
11811  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11812  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11813  var Name ROLE LEVEL FORMULA;
11814  run;
 
NOTE: There were 1 observations read from the data set EMWS3.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11815  title9;
11816  title10;
 
11817  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\EMFLOWSCORE.sas";
11818  *------------------------------------------------------------*;
11819  * Trans: Scoring DATA data;
11820  *------------------------------------------------------------*;
11821  data EMWS3.Trans_TRAIN
11822  / view=EMWS3.Trans_TRAIN
11823  ;
11824  set EMWS3.Ids_DATA
11825  ;
11826  %inc emflow;
11831  run;
 
NOTE: DATA STEP view saved on file EMWS3.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS3.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
 
 
11832  quit;
11833  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11834  *------------------------------------------------------------*;
11835  * Trans: Computing metadata for TRAIN data;
11836  *------------------------------------------------------------*;
 
NOTE: View EMWS3.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
NOTE: View EMWS3.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                May 04, 2022
Time:                23:39:31
*------------------------------------------------------------*
12207  *------------------------------------------------------------*;
12208  * &msgString;
12209  *------------------------------------------------------------*;
12210  filename _flowref "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS3\Trans\EMFLOWSCORE.sas";
12211  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12212  %INCLUDE _flowref;
12217  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12218  quit;
12219  data WORK.TRANS_SCOREINPUTS;
12220  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12221  length UNAME $32;
12222  UNAME = upcase(NAME);
12223  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12224  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12225  by UNAME;
12226  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12227  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12228  %let SYSCC = 0;
12229  *------------------------------------------------------------*;
12230  * transformcombinevariables;
12231  *------------------------------------------------------------*;
12232  data WORK.TRANS_OUTPUTVARS;
12233  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12234  set
12235  EMWS3.Trans_FORMULA
12236  ;
12237  _MetaFlag=0;
12238  uname = upcase(name);
12239  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS3.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12240  data _temp;
12241  length UNAME $32;
12242  set EMWS3.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12243  UNAME = upcase(name);
12244  where upcase(CREATOR) = upcase("Trans");
12245  run;
 
NOTE: There were 1 observations read from the data set EMWS3.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12246  proc sort data=_temp(drop=CREATOR);
12247  by UNAME;
12248  run;
 
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12249  proc sort data=WORK.TRANS_OUTPUTVARS;
12250  by UNAME;
12251  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12252  data WORK.TRANS_OUTPUTVARS;
12253  merge WORK.TRANS_OUTPUTVARS _temp;
12254  by UNAME;
12255  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12256  *------------------------------------------------------------*;
12257  * Trans: Get Metadata for the Score Inputs Variables;
12258  *------------------------------------------------------------*;
12259  data _temp;
12260  length UNAME $32;
12261  set EMWS3.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
12262  UNAME = upcase(name);
12263  run;
 
NOTE: There were 27 observations read from the data set EMWS3.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12264  proc sort data=_temp;
12265  by UNAME;
12266  run;
 
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12267  data WORK.TRANS_SCOREINPUTS;
12268  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12269  by UNAME;
12270  if _a and _b then output;
12271  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12272  *------------------------------------------------------------*;
12273  * Trans: Computing Summary Statistics;
12274  *------------------------------------------------------------*;
12275  proc dmdb data=EMWS3.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12276  ;
12277  var
12278  GiftTimeLast
12279  GiftTimeLast_REV
12280  ;
12281  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: View EMWS3.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: There were 9686 observations read from the data set EMWS3.IDS_DATA.
NOTE: There were 9686 observations read from the data set EMWS3.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
 
12282  *------------------------------------------------------------*;
12283  * Trans: Combine Information and Statistics for Class Variables;
12284  *------------------------------------------------------------*;
12285  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12286  by NAME;
12287  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12288  proc sort data=WORK.TRANS_CLASSSTATS;
12289  by NAME;
12290  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12291  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12292  retain nlevel nmiss;
12293  set WORK.TRANS_CLASSSTATS;
12294  by Name;
12295  if first.Name then do;
12296  nlevel= 0;
12297  nmiss= 0;
12298  end;
12299  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12300  else nlevel + 1;
12301  if last.name then output;
12302  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12303  /*Merge Statistics for Class Output Vars */
12304  data WORK.TRANS_CLASSSTATS;
12305  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12306  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12307  by NAME;
12308  if _a and _b then do;
12309  SOURCE='Output';
12310  if _MetaFlag = 1 then _METHOD_="Meta";
12311  else if Formula eq 'Interaction' then _METHOD_="Computed";
12312  else if inputName eq '' then _METHOD_="Formula";
12313  else _METHOD_="Computed";
12314  if Formula = '' then Formula = "User Code";
12315  end;
12316  if _a then output;
12317  drop inputName LEVEL TYPE _MetaFlag;
12318  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12319  /*Merge Statistics for Class Input Vars */
12320  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12321  by NAME;
12322  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12323  data WORK.TRANS_CLASSSTATS;
12324  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12325  by NAME;
12326  if _a and _b then do;
12327  SOURCE='Input';
12328  _METHOD_="Original";
12329  end;
12330  if _a then output;
12331  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12332  *------------------------------------------------------------*;
12333  * Trans: Combine Information and Statistics for Interval Variables;
12334  *------------------------------------------------------------*;
12335  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12336  by NAME;
12337  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12338  proc sort data=WORK.TRANS_VARSTATS;
12339  by NAME;
12340  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12341  *Merge Statistics for Output Vars;
12342  data WORK.TRANS_VARSTATS;
12343  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12344  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12345  by NAME;
12346  if _a and _b then do;
12347  SOURCE='Output';
12348  if _MetaFlag = 1 then _METHOD_="Meta";
12349  else if Formula eq 'Interaction' then _METHOD_="Computed";
12350  else if inputName eq '' then _METHOD_="Formula";
12351  else _METHOD_="Computed";
12352  if Formula = '' then Formula = "Mixture of variables";
12353  end;
12354  if _a then output;
12355  drop inputName LEVEL TYPE _MetaFlag;
12356  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12357  *Merge Statistics for Input Vars;
12358  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12359  by NAME;
12360  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12361  data WORK.TRANS_VARSTATS;
12362  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12363  by NAME;
12364  if _a and _b then do;
12365  SOURCE='Input';
12366  _METHOD_="Original";
12367  end;
12368  if _a then output;
12369  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12370  *------------------------------------------------------------*;
12371  * Trans: Combine statistics for class and interval variables;
12372  *------------------------------------------------------------*;
12373  data EMWS3.Trans_STATISTICS;
12374  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12375  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12376     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12377     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12378     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12379     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12380  set
12381  WORK.TRANS_CLASSSTATS
12382  WORK.TRANS_VARSTATS
12383  ;
12384  drop UNAME;
12385  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS3.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12386  proc sort data=EMWS3.Trans_STATISTICS;
12387  by SOURCE _METHOD_ NAME;
12388  run;
 
NOTE: There were 2 observations read from the data set EMWS3.TRANS_STATISTICS.
NOTE: The data set EMWS3.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12389  proc sort data = EMWS3.Trans_STATISTICS NOTHREADS;
12390  by SOURCE NAME;
12391  run;
 
NOTE: There were 2 observations read from the data set EMWS3.TRANS_STATISTICS.
NOTE: The data set EMWS3.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12392  title9 ' ';
12393  proc print data = EMWS3.Trans_STATISTICS(obs=500) noobs label;
12394  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12395  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12396  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12397  where SOURCE eq 'INPUT' and mean ne .;
12398  run;
 
NOTE: No observations were selected from data set EMWS3.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS3.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12399  proc print data = EMWS3.Trans_STATISTICS(obs=500) noobs label;
12400  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12401  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12402  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12403  where SOURCE eq 'OUTPUT' and mean ne .;
12404  run;
 
NOTE: No observations were selected from data set EMWS3.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS3.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12405  proc print data = EMWS3.Trans_STATISTICS(obs=500) noobs label;
12406  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12407  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12408  var Name NLEVEL NMISS;
12409  where SOURCE eq 'INPUT' and nlevel ne .;
12410  run;
 
NOTE: No observations were selected from data set EMWS3.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS3.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12411  proc print data = EMWS3.Trans_STATISTICS(obs=500) noobs label;
12412  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12413  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12414  var Name _METHOD_ NLEVEL NMISS;
12415  where SOURCE eq 'OUTPUT' and nlevel ne .;
12416  run;
 
NOTE: No observations were selected from data set EMWS3.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS3.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12417  title9;
12418  title10;
 
12419  data EMWS3.Trans_EMSCOREVAR;
12420  length Name $32 formula $300 file $200;
12421  keep NAME Formula file;
12422  set EMWS3.Trans_STATISTICS;
12423  where SOURCE='Output';
12424  select( _METHOD_);
12425  when('Computed') do;
12426  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12427  formula = '';
12428  end;
12429  when('Formula') do;
12430  if Formula eq 'Mixture of variables' then do;
12431  file= "EDITORCODE.sas";
12432  formula = '';
12433  end;
12434  if Formula = 'User Code' then do;
12435  file= "EDITORCODE.sas";
12436  formula = '';
12437  end;
12438  end;
12439  otherwise;
12440  end;
12441  output;
12442  run;
 
NOTE: There were 1 observations read from the data set EMWS3.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS3.TRANS_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
