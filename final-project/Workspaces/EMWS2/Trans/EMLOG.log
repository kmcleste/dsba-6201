*------------------------------------------------------------*
User:                Kyle McLester
Date:                April 13, 2022
Time:                13:49:02
Site:                70080897
Platform:            X64_10HOME
Maintenance Release: 9.04.01M6P111518
EM Version:          15.1
* 
*------------------------------------------------------------*
* Training Log
Date:                April 13, 2022
Time:                13:48:59
*------------------------------------------------------------*
11434  proc freq data=EMWS2.Trans_VariableSet noprint;
11435  table ROLE*LEVEL/out=WORK.TransMETA;
11436  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK.TRANSMETA has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
 
11437  proc print data=WORK.TransMETA label noobs;
11438  var ROLE LEVEL COUNT;
11439  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11440  title9 ' ';
11441  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11442  run;
 
NOTE: There were 7 observations read from the data set WORK.TRANSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11443  title10;
 
11444  data WORK.M2LGHBAG;
11445  set WORK.M2LGHBAG;
11446  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11447  run;
 
NOTE: There were 97 observations read from the data set WORK.M2LGHBAG.
NOTE: The data set WORK.M2LGHBAG has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
11512  *------------------------------------------------------------*;
11513  * Trans: Computing Summary Statistics;
11514  *------------------------------------------------------------*;
11515  data WORK.M1WYK242;
11516  set WORK.M1WYK242;
11517  if (role = 'REJECTED') then role = 'INPUT';
11518  run;
 
NOTE: There were 92 observations read from the data set WORK.M1WYK242.
NOTE: The data set WORK.M1WYK242 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11519  *------------------------------------------------------------* ;
11520  * EM: DMDBClass Macro ;
11521  *------------------------------------------------------------* ;
11522  %macro DMDBClass;
11523      BOTHPAYM(ASC) CCPAYM(ASC) METHPAYM(ASC) PCPAYM(ASC) RESPOND(DESC)
11524  %mend DMDBClass;
11525  *------------------------------------------------------------* ;
11526  * EM: DMDBVar Macro ;
11527  *------------------------------------------------------------* ;
11528  %macro DMDBVar;
11529      ACTBUY BUYPROP CATALOGCNT DAYLAST DEPT01 DEPT02 DEPT03 DEPT04 DEPT05 DEPT06
11530     DEPT07 DEPT08 DEPT09 DEPT10 DEPT11 DEPT12 DEPT13 DEPT14 DEPT15 DEPT16 DEPT17
11531     DEPT18 DEPT19 DEPT20 DEPT21 DEPT22 DEPT23 DEPT24 DEPT25 DEPT26 DEPT27 DOLINDEA
11532     DOLINDET DOLL24 DOLLARQ01 DOLLARQ02 DOLLARQ03 DOLLARQ04 DOLLARQ05 DOLLARQ06
11533     DOLLARQ07 DOLLARQ08 DOLLARQ09 DOLLARQ10 DOLLARQ11 DOLLARQ12 DOLLARQ13 DOLLARQ14
11534     DOLLARQ15 DOLLARQ16 DOLLARQ17 DOLLARQ18 DOLLARQ19 DOLLARQ20 DOLLARQ21 DOLLARQ22
11535     DOLNETDA DOLNETDT FREQPRCH MONLAST ORDERSIZE TENURE TOTORDQ01 TOTORDQ02
11536     TOTORDQ03 TOTORDQ04 TOTORDQ05 TOTORDQ06 TOTORDQ07 TOTORDQ08 TOTORDQ09 TOTORDQ10
11537     TOTORDQ11 TOTORDQ12 TOTORDQ13 TOTORDQ14 TOTORDQ15 TOTORDQ16 TOTORDQ17 TOTORDQ18
11538     TOTORDQ19 TOTORDQ20 TOTORDQ21 TOTORDQ22 UNITSIDD UNITSLAP UNTLANPO
11539  %mend DMDBVar;
11540  *------------------------------------------------------------*;
11541  * EM: Create DMDB;
11542  *------------------------------------------------------------*;
11543  proc dmdb batch data=EMWS2.Ids_DATA
11544  dmdbcat=WORK.EM_DMDB
11545  classout=WORK.Transclassout
11546  maxlevel = 513
11547  ;
11548  class %DMDBClass;
11549  var %DMDBVar;
11550  target
11551  ORDERSIZE
11552  RESPOND
11553  ;
11554  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: The data set WORK.TRANSCLASSOUT has 12 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
 
 
11555  quit;
11556  *--- end code ---*;
 
11557  data WORK.TransINTERVALMETA;
11558  set WORK.M2LGHBAG;
11559  if LEVEL ne 'INTERVAL' then delete;
11560  run;
 
NOTE: There were 92 observations read from the data set WORK.M2LGHBAG.
NOTE: The data set WORK.TRANSINTERVALMETA has 87 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11561  *------------------------------------------------------------*;
11562  * Trans: Determining Variables to Scale;
11563  *------------------------------------------------------------*;
11564  data WORK.M2CGF0GY;
11565  set WORK.M2CGF0GY;
11566  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11567  run;
 
NOTE: There were 0 observations read from the data set WORK.M2CGF0GY.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M2CGF0GY has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.29 seconds
      cpu time            0.15 seconds
 
*------------------------------------------------------------*
* Score Log
Date:                April 13, 2022
Time:                13:49:00
*------------------------------------------------------------*
11671  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11672  DAYLAST_REV = -1*daylast;
11673  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.09 seconds
      cpu time            0.01 seconds
 
 
11674  quit;
 
11675  data WORK._CODEINPUT1;
11676  length ROLE $32 LEVEL $8 REPORT $1;
11677  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11678  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11679  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11680  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11681  by INPUTNAME;
11682  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11683  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11684  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11685  data WORK.TRANS_FORMULAVARS;
11686  length UNAME $32;
11687  set WORK.TRANS_FORMULAVARS;
11688  UNAME = upcase(INPUTNAME);
11689  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11690  proc sort data=WORK.TRANS_FORMULAVARS;
11691  by UNAME;
11692  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11693  data _temp;
11694  set EMWS2.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11695  length UNAME $32;
11696  UNAME = upcase(INPUTNAME);
11697  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11698  proc sort data=_temp;
11699  by UNAME;
11700  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11701  data WORK.TRANS_FORMULAVARS;
11702  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11703  by UNAME;
11704  if _a and _b then output;
11705  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11706  proc sort data=WORK.TRANS_FORMULAVARS;
11707  by _FormulaNum UNAME;
11708  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11709  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11710  length ROLE $32 REPORT $1;
11711  set WORK.TRANS_FORMULAVARS;
11712  by _FormulaNum;
11713  if INPUTROLE = 'TARGET' then output _target;
11714  if first._FormulaNum then do;
11715  if ^last._FormulaNum then do;
11716  INPUTNAME='';
11717  INPUTROLE='';
11718  INPUTTYPE='';
11719  INPUTREPORT='';
11720  end;
11721  output WORK.TRANS_FORMULAVARS;
11722  end;
11723  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11724  data _temp;
11725  set EMWS2.Trans_FORMULA;
11726  _FormulaNum = _N_;
11727  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11728  data WORK.TRANS_CODEFORMULA;
11729  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11730  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11731     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11732     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11733     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11734  drop _FormulaNum UNAME;
11735  _targetFlag = 0;
11736  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11737  by _FormulaNum;
11738  _targetFlag = 0;
11739  if _c then _targetFlag=1;
11740  if INPUT ne '' then if _a and ^_b then delete;
11741  if ROLE = '' then do;
11742  if INPUTROLE = '' then ROLE='INPUT';
11743  else ROLE = INPUTROLE;
11744  end;
11745  if REPORT = '' then do;
11746  if INPUTREPORT = '' then REPORT='N';
11747  else REPORT = INPUTREPORT;
11748  end;
11749  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11750  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\FORMULAFLOWCODE.sas";
11751  data _null_;
11752  set WORK.TRANS_CODEFORMULA;
11753  file _code;
11754  if type eq 'C' and length > 0 then do;
11755  put 'length ' name ' $' length ';';
11756  end;
11757  if format ne '' then do;
11758  put 'format ' name format ';';
11759  end;
11760  length deqLabel $202;
11761  if label ne '' then do;
11762  deqlabel = tranwrd(label, '"', '""');
11763  put 'label ' name '="' deqlabel '";';
11764  end;
11765  if name ne '' and formula ne '' then do;
11766  put name '=' formula ';';
11767  end;
11768  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:13:49:00,
      Create Time=13Apr2022:13:49:00
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 25.
      The maximum record length was 25.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11769  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11770  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\FORMULAPUBLISHCODE.sas";
11771  data _null_;
11772  set WORK.TRANS_CODEFORMULA;
11773  file _code;
11774  if _targetFlag eq 0 then do;
11775  if type eq 'C' and length > 0 then do;
11776  put 'length ' name ' $' length ';';
11777  end;
11778  if format ne '' then do;
11779  put 'format ' name format ';';
11780  end;
11781  length deqLabel $202;
11782  if label ne '' then do;
11783  deqlabel = tranwrd(label, '"', '""');
11784  put 'label ' name '="' deqlabel '";';
11785  end;
11786  if name ne '' and formula ne '' then do;
11787  put name '=' formula ';';
11788  end;
11789  end;
11790  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:13:49:00,
      Create Time=13Apr2022:13:49:00
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 25.
      The maximum record length was 25.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11791  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11792  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\FORMULADELTACODE.sas";
11793  data _null_;
11794  set WORK.TRANS_CODEFORMULA;
11795  file _code;
11796  length String $200;
11797  if ROLE eq '' then ROLE = 'REJECTED';
11798  if REPORT eq '' then REPORT = 'N';
11799  String = 'if NAME="'!!strip(name)!!'" then do;';
11800  put / string;
11801  String = '   ROLE ="'!!strip(role)!!'";';
11802  put string;
11803  String = '   REPORT ="'!!strip(report)!!'";';
11804  put string;
11805  if LEVEL ne '' then do;
11806  String = '   LEVEL ="'!!strip(level)!!'";';
11807  put string;
11808  end;
11809  put 'end;';
11810  if INPUTNAME ne '' then do;
11811  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11812  put String;
11813  end;
11814  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:13:49:00,
      Create Time=13Apr2022:13:49:00
 
NOTE: 7 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 30.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11815  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11816  proc print data = EMWS2.Trans_FORMULA(obs=500) noobs label;
11817  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11818  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11819  var Name ROLE LEVEL FORMULA;
11820  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11821  title9;
11822  title10;
 
11823  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
11824  *------------------------------------------------------------*;
11825  * Trans: Scoring DATA data;
11826  *------------------------------------------------------------*;
11827  data EMWS2.Trans_TRAIN
11828  / view=EMWS2.Trans_TRAIN
11829  ;
11830  set EMWS2.Ids_DATA
11831  ;
11832  %inc emflow;
11837  run;
 
NOTE: DATA STEP view saved on file EMWS2.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11838  quit;
11839  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11840  *------------------------------------------------------------*;
11841  * Trans: Computing metadata for TRAIN data;
11842  *------------------------------------------------------------*;
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 13, 2022
Time:                13:49:01
*------------------------------------------------------------*
12213  *------------------------------------------------------------*;
12214  * &msgString;
12215  *------------------------------------------------------------*;
12216  filename _flowref "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
12217  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12218  %INCLUDE _flowref;
12223  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12224  quit;
12225  data WORK.TRANS_SCOREINPUTS;
12226  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12227  length UNAME $32;
12228  UNAME = upcase(NAME);
12229  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12230  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12231  by UNAME;
12232  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12233  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12234  %let SYSCC = 0;
12235  *------------------------------------------------------------*;
12236  * transformcombinevariables;
12237  *------------------------------------------------------------*;
12238  data WORK.TRANS_OUTPUTVARS;
12239  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12240  set
12241  EMWS2.Trans_FORMULA
12242  ;
12243  _MetaFlag=0;
12244  uname = upcase(name);
12245  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12246  data _temp;
12247  length UNAME $32;
12248  set EMWS2.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12249  UNAME = upcase(name);
12250  where upcase(CREATOR) = upcase("Trans");
12251  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12252  proc sort data=_temp(drop=CREATOR);
12253  by UNAME;
12254  run;
 
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12255  proc sort data=WORK.TRANS_OUTPUTVARS;
12256  by UNAME;
12257  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12258  data WORK.TRANS_OUTPUTVARS;
12259  merge WORK.TRANS_OUTPUTVARS _temp;
12260  by UNAME;
12261  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12262  *------------------------------------------------------------*;
12263  * Trans: Get Metadata for the Score Inputs Variables;
12264  *------------------------------------------------------------*;
12265  data _temp;
12266  length UNAME $32;
12267  set EMWS2.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
12268  UNAME = upcase(name);
12269  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12270  proc sort data=_temp;
12271  by UNAME;
12272  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12273  data WORK.TRANS_SCOREINPUTS;
12274  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12275  by UNAME;
12276  if _a and _b then output;
12277  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12278  *------------------------------------------------------------*;
12279  * Trans: Computing Summary Statistics;
12280  *------------------------------------------------------------*;
12281  proc dmdb data=EMWS2.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12282  ;
12283  var
12284  DAYLAST
12285  DAYLAST_REV
12286  ;
12287  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.11 seconds
      cpu time            0.11 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
 
 
12288  *------------------------------------------------------------*;
12289  * Trans: Combine Information and Statistics for Class Variables;
12290  *------------------------------------------------------------*;
12291  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12292  by NAME;
12293  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12294  proc sort data=WORK.TRANS_CLASSSTATS;
12295  by NAME;
12296  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12297  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12298  retain nlevel nmiss;
12299  set WORK.TRANS_CLASSSTATS;
12300  by Name;
12301  if first.Name then do;
12302  nlevel= 0;
12303  nmiss= 0;
12304  end;
12305  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12306  else nlevel + 1;
12307  if last.name then output;
12308  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12309  /*Merge Statistics for Class Output Vars */
12310  data WORK.TRANS_CLASSSTATS;
12311  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12312  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12313  by NAME;
12314  if _a and _b then do;
12315  SOURCE='Output';
12316  if _MetaFlag = 1 then _METHOD_="Meta";
12317  else if Formula eq 'Interaction' then _METHOD_="Computed";
12318  else if inputName eq '' then _METHOD_="Formula";
12319  else _METHOD_="Computed";
12320  if Formula = '' then Formula = "User Code";
12321  end;
12322  if _a then output;
12323  drop inputName LEVEL TYPE _MetaFlag;
12324  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12325  /*Merge Statistics for Class Input Vars */
12326  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12327  by NAME;
12328  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12329  data WORK.TRANS_CLASSSTATS;
12330  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12331  by NAME;
12332  if _a and _b then do;
12333  SOURCE='Input';
12334  _METHOD_="Original";
12335  end;
12336  if _a then output;
12337  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12338  *------------------------------------------------------------*;
12339  * Trans: Combine Information and Statistics for Interval Variables;
12340  *------------------------------------------------------------*;
12341  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12342  by NAME;
12343  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12344  proc sort data=WORK.TRANS_VARSTATS;
12345  by NAME;
12346  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12347  *Merge Statistics for Output Vars;
12348  data WORK.TRANS_VARSTATS;
12349  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12350  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12351  by NAME;
12352  if _a and _b then do;
12353  SOURCE='Output';
12354  if _MetaFlag = 1 then _METHOD_="Meta";
12355  else if Formula eq 'Interaction' then _METHOD_="Computed";
12356  else if inputName eq '' then _METHOD_="Formula";
12357  else _METHOD_="Computed";
12358  if Formula = '' then Formula = "Mixture of variables";
12359  end;
12360  if _a then output;
12361  drop inputName LEVEL TYPE _MetaFlag;
12362  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12363  *Merge Statistics for Input Vars;
12364  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12365  by NAME;
12366  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12367  data WORK.TRANS_VARSTATS;
12368  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12369  by NAME;
12370  if _a and _b then do;
12371  SOURCE='Input';
12372  _METHOD_="Original";
12373  end;
12374  if _a then output;
12375  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12376  *------------------------------------------------------------*;
12377  * Trans: Combine statistics for class and interval variables;
12378  *------------------------------------------------------------*;
12379  data EMWS2.Trans_STATISTICS;
12380  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12381  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12382     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12383     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12384     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12385     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12386  set
12387  WORK.TRANS_CLASSSTATS
12388  WORK.TRANS_VARSTATS
12389  ;
12390  drop UNAME;
12391  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12392  proc sort data=EMWS2.Trans_STATISTICS;
12393  by SOURCE _METHOD_ NAME;
12394  run;
 
NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12395  proc sort data = EMWS2.Trans_STATISTICS NOTHREADS;
12396  by SOURCE NAME;
12397  run;
 
NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12398  title9 ' ';
12399  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12400  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12401  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12402  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12403  where SOURCE eq 'INPUT' and mean ne .;
12404  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12405  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12406  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12407  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12408  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12409  where SOURCE eq 'OUTPUT' and mean ne .;
12410  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12411  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12412  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12413  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12414  var Name NLEVEL NMISS;
12415  where SOURCE eq 'INPUT' and nlevel ne .;
12416  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12417  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12418  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12419  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12420  var Name _METHOD_ NLEVEL NMISS;
12421  where SOURCE eq 'OUTPUT' and nlevel ne .;
12422  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12423  title9;
12424  title10;
 
12425  data EMWS2.Trans_EMSCOREVAR;
12426  length Name $32 formula $300 file $200;
12427  keep NAME Formula file;
12428  set EMWS2.Trans_STATISTICS;
12429  where SOURCE='Output';
12430  select( _METHOD_);
12431  when('Computed') do;
12432  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12433  formula = '';
12434  end;
12435  when('Formula') do;
12436  if Formula eq 'Mixture of variables' then do;
12437  file= "EDITORCODE.sas";
12438  formula = '';
12439  end;
12440  if Formula = 'User Code' then do;
12441  file= "EDITORCODE.sas";
12442  formula = '';
12443  end;
12444  end;
12445  otherwise;
12446  end;
12447  output;
12448  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
