*------------------------------------------------------------*
* Score Log
Date:                April 13, 2022
Time:                14:13:43
*------------------------------------------------------------*
11672  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11673  RFM = substr(pctl_daylast_rev,1,2)||substr(pctl_freqprch,1,2)||substr(pctl_doll24,1,2);
11674  run;

NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11675  quit;

11676  data WORK._CODEINPUT1;
11677  length ROLE $32 LEVEL $8 REPORT $1;
11678  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11679  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11680  run;

NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11681  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11682  by INPUTNAME;
11683  run;

NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11684  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11685  run;

NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11686  data WORK.TRANS_FORMULAVARS;
11687  length UNAME $32;
11688  set WORK.TRANS_FORMULAVARS;
11689  UNAME = upcase(INPUTNAME);
11690  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11691  proc sort data=WORK.TRANS_FORMULAVARS;
11692  by UNAME;
11693  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11694  data _temp;
11695  set EMWS2.Trans3_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11696  length UNAME $32;
11697  UNAME = upcase(INPUTNAME);
11698  run;

NOTE: There were 97 observations read from the data set EMWS2.TRANS3_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11699  proc sort data=_temp;
11700  by UNAME;
11701  run;

NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11702  data WORK.TRANS_FORMULAVARS;
11703  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11704  by UNAME;
11705  if _a and _b then output;
11706  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11707  proc sort data=WORK.TRANS_FORMULAVARS;
11708  by _FormulaNum UNAME;
11709  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11710  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11711  length ROLE $32 REPORT $1;
11712  set WORK.TRANS_FORMULAVARS;
11713  by _FormulaNum;
11714  if INPUTROLE = 'TARGET' then output _target;
11715  if first._FormulaNum then do;
11716  if ^last._FormulaNum then do;
11717  INPUTNAME='';
11718  INPUTROLE='';
11719  INPUTTYPE='';
11720  INPUTREPORT='';
11721  end;
11722  output WORK.TRANS_FORMULAVARS;
11723  end;
11724  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11725  data _temp;
11726  set EMWS2.Trans3_FORMULA;
11727  _FormulaNum = _N_;
11728  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS3_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11729  data WORK.TRANS_CODEFORMULA;
11730  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11731  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11732     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11733     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11734     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11735  drop _FormulaNum UNAME;
11736  _targetFlag = 0;
11737  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11738  by _FormulaNum;
11739  _targetFlag = 0;
11740  if _c then _targetFlag=1;
11741  if INPUT ne '' then if _a and ^_b then delete;
11742  if ROLE = '' then do;
11743  if INPUTROLE = '' then ROLE='INPUT';
11744  else ROLE = INPUTROLE;
11745  end;
11746  if REPORT = '' then do;
11747  if INPUTREPORT = '' then REPORT='N';
11748  else REPORT = INPUTREPORT;
11749  end;
11750  run;

NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11751  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAFLOWCODE.sas";
11752  data _null_;
11753  set WORK.TRANS_CODEFORMULA;
11754  file _code;
11755  if type eq 'C' and length > 0 then do;
11756  put 'length ' name ' $' length ';';
11757  end;
11758  if format ne '' then do;
11759  put 'format ' name format ';';
11760  end;
11761  length deqLabel $202;
11762  if label ne '' then do;
11763  deqlabel = tranwrd(label, '"', '""');
11764  put 'label ' name '="' deqlabel '";';
11765  end;
11766  if name ne '' and formula ne '' then do;
11767  put name '=' formula ';';
11768  end;
11769  run;

NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:14:13:43,
      Create Time=13Apr2022:14:13:43

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 87.
      The maximum record length was 87.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11770  filename _code;
NOTE: Fileref _CODE has been deassigned.

11771  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAPUBLISHCODE.sas";
11772  data _null_;
11773  set WORK.TRANS_CODEFORMULA;
11774  file _code;
11775  if _targetFlag eq 0 then do;
11776  if type eq 'C' and length > 0 then do;
11777  put 'length ' name ' $' length ';';
11778  end;
11779  if format ne '' then do;
11780  put 'format ' name format ';';
11781  end;
11782  length deqLabel $202;
11783  if label ne '' then do;
11784  deqlabel = tranwrd(label, '"', '""');
11785  put 'label ' name '="' deqlabel '";';
11786  end;
11787  if name ne '' and formula ne '' then do;
11788  put name '=' formula ';';
11789  end;
11790  end;
11791  run;

NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:14:13:43,
      Create Time=13Apr2022:14:13:43

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 87.
      The maximum record length was 87.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11792  filename _code;
NOTE: Fileref _CODE has been deassigned.

11793  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULADELTACODE.sas";
11794  data _null_;
11795  set WORK.TRANS_CODEFORMULA;
11796  file _code;
11797  length String $200;
11798  if ROLE eq '' then ROLE = 'REJECTED';
11799  if REPORT eq '' then REPORT = 'N';
11800  String = 'if NAME="'!!strip(name)!!'" then do;';
11801  put / string;
11802  String = '   ROLE ="'!!strip(role)!!'";';
11803  put string;
11804  String = '   REPORT ="'!!strip(report)!!'";';
11805  put string;
11806  if LEVEL ne '' then do;
11807  String = '   LEVEL ="'!!strip(level)!!'";';
11808  put string;
11809  end;
11810  put 'end;';
11811  if INPUTNAME ne '' then do;
11812  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11813  put String;
11814  end;
11815  run;

NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:14:13:43,
      Create Time=13Apr2022:14:13:43

NOTE: 6 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 22.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11816  filename _code;
NOTE: Fileref _CODE has been deassigned.

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11817  proc print data = EMWS2.Trans3_FORMULA(obs=500) noobs label;
11818  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11819  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11820  var Name ROLE LEVEL FORMULA;
11821  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS3_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11822  title9;
11823  title10;

11824  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\EMFLOWSCORE.sas";
11825  *------------------------------------------------------------*;
11826  * Trans3: Scoring DATA data;
11827  *------------------------------------------------------------*;
11828  data EMWS2.Trans3_TRAIN
11829  / view=EMWS2.Trans3_TRAIN
11830  ;
11831  set EMWS2.Trans2_TRAIN
11832  ;
11833  %inc emflow;
11838  run;

NOTE: DATA STEP view saved on file EMWS2.TRANS3_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      

11839  quit;
11840  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

11841  *------------------------------------------------------------*;
11842  * Trans3: Computing metadata for TRAIN data;
11843  *------------------------------------------------------------*;

NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
      
NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
      
