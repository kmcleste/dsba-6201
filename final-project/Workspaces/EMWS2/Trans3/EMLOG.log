*------------------------------------------------------------*
User:                Kyle McLester
Date:                April 13, 2022
Time:                14:13:45
Site:                70080897
Platform:            X64_10HOME
Maintenance Release: 9.04.01M6P111518
EM Version:          15.1
* 
*------------------------------------------------------------*
* Training Log
Date:                April 13, 2022
Time:                14:13:42
*------------------------------------------------------------*
11434  proc freq data=EMWS2.Trans3_VariableSet noprint;
11435  table ROLE*LEVEL/out=WORK.Trans3META;
11436  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS3_VARIABLESET.
NOTE: The data set WORK.TRANS3META has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11437  proc print data=WORK.Trans3META label noobs;
11438  var ROLE LEVEL COUNT;
11439  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11440  title9 ' ';
11441  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11442  run;
 
NOTE: There were 7 observations read from the data set WORK.TRANS3META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11443  title10;
 
11444  data WORK.M0QV89D3;
11445  set WORK.M0QV89D3;
11446  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11447  run;
 
NOTE: There were 97 observations read from the data set WORK.M0QV89D3.
NOTE: The data set WORK.M0QV89D3 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.28 seconds
      cpu time            0.28 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
11512  *------------------------------------------------------------*;
11513  * Trans: Computing Summary Statistics;
11514  *------------------------------------------------------------*;
11515  data WORK.M1MMS4HW;
11516  set WORK.M1MMS4HW;
11517  if (role = 'REJECTED') then role = 'INPUT';
11518  run;
 
NOTE: There were 92 observations read from the data set WORK.M1MMS4HW.
NOTE: The data set WORK.M1MMS4HW has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11519  *------------------------------------------------------------* ;
11520  * EM: DMDBClass Macro ;
11521  *------------------------------------------------------------* ;
11522  %macro DMDBClass;
11523      BOTHPAYM(ASC) CCPAYM(ASC) METHPAYM(ASC) PCPAYM(ASC) PCTL_DAYLAST_REV(ASC)
11524     PCTL_DOLL24(ASC) PCTL_FREQPRCH(ASC) RESPOND(DESC)
11525  %mend DMDBClass;
11526  *------------------------------------------------------------* ;
11527  * EM: DMDBVar Macro ;
11528  *------------------------------------------------------------* ;
11529  %macro DMDBVar;
11530      ACTBUY BUYPROP CATALOGCNT DEPT01 DEPT02 DEPT03 DEPT04 DEPT05 DEPT06 DEPT07
11531     DEPT08 DEPT09 DEPT10 DEPT11 DEPT12 DEPT13 DEPT14 DEPT15 DEPT16 DEPT17 DEPT18
11532     DEPT19 DEPT20 DEPT21 DEPT22 DEPT23 DEPT24 DEPT25 DEPT26 DEPT27 DOLINDEA
11533     DOLINDET DOLLARQ01 DOLLARQ02 DOLLARQ03 DOLLARQ04 DOLLARQ05 DOLLARQ06 DOLLARQ07
11534     DOLLARQ08 DOLLARQ09 DOLLARQ10 DOLLARQ11 DOLLARQ12 DOLLARQ13 DOLLARQ14 DOLLARQ15
11535     DOLLARQ16 DOLLARQ17 DOLLARQ18 DOLLARQ19 DOLLARQ20 DOLLARQ21 DOLLARQ22 DOLNETDA
11536     DOLNETDT MONLAST ORDERSIZE TENURE TOTORDQ01 TOTORDQ02 TOTORDQ03 TOTORDQ04
11537     TOTORDQ05 TOTORDQ06 TOTORDQ07 TOTORDQ08 TOTORDQ09 TOTORDQ10 TOTORDQ11 TOTORDQ12
11538     TOTORDQ13 TOTORDQ14 TOTORDQ15 TOTORDQ16 TOTORDQ17 TOTORDQ18 TOTORDQ19 TOTORDQ20
11539     TOTORDQ21 TOTORDQ22 UNITSIDD UNITSLAP UNTLANPO
11540  %mend DMDBVar;
11541  *------------------------------------------------------------*;
11542  * EM: Create DMDB;
11543  *------------------------------------------------------------*;
11544  proc dmdb batch data=EMWS2.Trans2_TRAIN
11545  dmdbcat=WORK.EM_DMDB
11546  classout=WORK.Transclassout
11547  maxlevel = 513
11548  ;
11549  class %DMDBClass;
11550  var %DMDBVar;
11551  target
11552  ORDERSIZE
11553  RESPOND
11554  ;
11555  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.25 seconds
      cpu time            0.23 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS2_TRAIN.
NOTE: The data set WORK.TRANSCLASSOUT has 24 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.26 seconds
      cpu time            0.25 seconds
 
 
11556  quit;
11557  *--- end code ---*;
 
11558  data WORK.TransINTERVALMETA;
11559  set WORK.M0QV89D3;
11560  if LEVEL ne 'INTERVAL' then delete;
11561  run;
 
NOTE: There were 92 observations read from the data set WORK.M0QV89D3.
NOTE: The data set WORK.TRANSINTERVALMETA has 84 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11562  *------------------------------------------------------------*;
11563  * Trans: Determining Variables to Scale;
11564  *------------------------------------------------------------*;
11565  data WORK.M2ZN_DTW;
11566  set WORK.M2ZN_DTW;
11567  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11568  run;
 
NOTE: There were 0 observations read from the data set WORK.M2ZN_DTW.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M2ZN_DTW has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.34 seconds
      cpu time            0.23 seconds
 
*------------------------------------------------------------*
* Score Log
Date:                April 13, 2022
Time:                14:13:43
*------------------------------------------------------------*
11672  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11673  RFM = substr(pctl_daylast_rev,1,2)||substr(pctl_freqprch,1,2)||substr(pctl_doll24,1,2);
11674  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11675  quit;
 
11676  data WORK._CODEINPUT1;
11677  length ROLE $32 LEVEL $8 REPORT $1;
11678  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11679  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11680  run;
 
NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11681  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11682  by INPUTNAME;
11683  run;
 
NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11684  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11685  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11686  data WORK.TRANS_FORMULAVARS;
11687  length UNAME $32;
11688  set WORK.TRANS_FORMULAVARS;
11689  UNAME = upcase(INPUTNAME);
11690  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11691  proc sort data=WORK.TRANS_FORMULAVARS;
11692  by UNAME;
11693  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11694  data _temp;
11695  set EMWS2.Trans3_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11696  length UNAME $32;
11697  UNAME = upcase(INPUTNAME);
11698  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS3_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11699  proc sort data=_temp;
11700  by UNAME;
11701  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11702  data WORK.TRANS_FORMULAVARS;
11703  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11704  by UNAME;
11705  if _a and _b then output;
11706  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11707  proc sort data=WORK.TRANS_FORMULAVARS;
11708  by _FormulaNum UNAME;
11709  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11710  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11711  length ROLE $32 REPORT $1;
11712  set WORK.TRANS_FORMULAVARS;
11713  by _FormulaNum;
11714  if INPUTROLE = 'TARGET' then output _target;
11715  if first._FormulaNum then do;
11716  if ^last._FormulaNum then do;
11717  INPUTNAME='';
11718  INPUTROLE='';
11719  INPUTTYPE='';
11720  INPUTREPORT='';
11721  end;
11722  output WORK.TRANS_FORMULAVARS;
11723  end;
11724  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11725  data _temp;
11726  set EMWS2.Trans3_FORMULA;
11727  _FormulaNum = _N_;
11728  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS3_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11729  data WORK.TRANS_CODEFORMULA;
11730  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11731  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11732     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11733     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11734     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11735  drop _FormulaNum UNAME;
11736  _targetFlag = 0;
11737  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11738  by _FormulaNum;
11739  _targetFlag = 0;
11740  if _c then _targetFlag=1;
11741  if INPUT ne '' then if _a and ^_b then delete;
11742  if ROLE = '' then do;
11743  if INPUTROLE = '' then ROLE='INPUT';
11744  else ROLE = INPUTROLE;
11745  end;
11746  if REPORT = '' then do;
11747  if INPUTREPORT = '' then REPORT='N';
11748  else REPORT = INPUTREPORT;
11749  end;
11750  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11751  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAFLOWCODE.sas";
11752  data _null_;
11753  set WORK.TRANS_CODEFORMULA;
11754  file _code;
11755  if type eq 'C' and length > 0 then do;
11756  put 'length ' name ' $' length ';';
11757  end;
11758  if format ne '' then do;
11759  put 'format ' name format ';';
11760  end;
11761  length deqLabel $202;
11762  if label ne '' then do;
11763  deqlabel = tranwrd(label, '"', '""');
11764  put 'label ' name '="' deqlabel '";';
11765  end;
11766  if name ne '' and formula ne '' then do;
11767  put name '=' formula ';';
11768  end;
11769  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:14:13:43,
      Create Time=13Apr2022:14:13:43
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 87.
      The maximum record length was 87.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11770  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11771  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAPUBLISHCODE.sas";
11772  data _null_;
11773  set WORK.TRANS_CODEFORMULA;
11774  file _code;
11775  if _targetFlag eq 0 then do;
11776  if type eq 'C' and length > 0 then do;
11777  put 'length ' name ' $' length ';';
11778  end;
11779  if format ne '' then do;
11780  put 'format ' name format ';';
11781  end;
11782  length deqLabel $202;
11783  if label ne '' then do;
11784  deqlabel = tranwrd(label, '"', '""');
11785  put 'label ' name '="' deqlabel '";';
11786  end;
11787  if name ne '' and formula ne '' then do;
11788  put name '=' formula ';';
11789  end;
11790  end;
11791  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:14:13:43,
      Create Time=13Apr2022:14:13:43
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 87.
      The maximum record length was 87.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11792  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11793  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULADELTACODE.sas";
11794  data _null_;
11795  set WORK.TRANS_CODEFORMULA;
11796  file _code;
11797  length String $200;
11798  if ROLE eq '' then ROLE = 'REJECTED';
11799  if REPORT eq '' then REPORT = 'N';
11800  String = 'if NAME="'!!strip(name)!!'" then do;';
11801  put / string;
11802  String = '   ROLE ="'!!strip(role)!!'";';
11803  put string;
11804  String = '   REPORT ="'!!strip(report)!!'";';
11805  put string;
11806  if LEVEL ne '' then do;
11807  String = '   LEVEL ="'!!strip(level)!!'";';
11808  put string;
11809  end;
11810  put 'end;';
11811  if INPUTNAME ne '' then do;
11812  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11813  put String;
11814  end;
11815  run;
 
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:14:13:43,
      Create Time=13Apr2022:14:13:43
 
NOTE: 6 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 22.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11816  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11817  proc print data = EMWS2.Trans3_FORMULA(obs=500) noobs label;
11818  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11819  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11820  var Name ROLE LEVEL FORMULA;
11821  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS3_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11822  title9;
11823  title10;
 
11824  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\EMFLOWSCORE.sas";
11825  *------------------------------------------------------------*;
11826  * Trans3: Scoring DATA data;
11827  *------------------------------------------------------------*;
11828  data EMWS2.Trans3_TRAIN
11829  / view=EMWS2.Trans3_TRAIN
11830  ;
11831  set EMWS2.Trans2_TRAIN
11832  ;
11833  %inc emflow;
11838  run;
 
NOTE: DATA STEP view saved on file EMWS2.TRANS3_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
 
 
11839  quit;
11840  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11841  *------------------------------------------------------------*;
11842  * Trans3: Computing metadata for TRAIN data;
11843  *------------------------------------------------------------*;
 
NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
 
NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 13, 2022
Time:                14:13:45
*------------------------------------------------------------*
12213  *------------------------------------------------------------*;
12214  * &msgString;
12215  *------------------------------------------------------------*;
12216  filename _flowref "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans3\EMFLOWSCORE.sas";
12217  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12218  %INCLUDE _flowref;
12223  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12224  quit;
12225  data WORK.TRANS_SCOREINPUTS;
12226  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12227  length UNAME $32;
12228  UNAME = upcase(NAME);
12229  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12230  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12231  by UNAME;
12232  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12233  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12234  %let SYSCC = 0;
12235  *------------------------------------------------------------*;
12236  * transformcombinevariables;
12237  *------------------------------------------------------------*;
12238  data WORK.TRANS_OUTPUTVARS;
12239  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12240  set
12241  EMWS2.Trans3_FORMULA
12242  ;
12243  _MetaFlag=0;
12244  uname = upcase(name);
12245  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS2.TRANS3_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12246  data _temp;
12247  length UNAME $32;
12248  set EMWS2.Trans3_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12249  UNAME = upcase(name);
12250  where upcase(CREATOR) = upcase("Trans3");
12251  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS3_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS3';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12252  proc sort data=_temp(drop=CREATOR);
12253  by UNAME;
12254  run;
 
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12255  proc sort data=WORK.TRANS_OUTPUTVARS;
12256  by UNAME;
12257  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12258  data WORK.TRANS_OUTPUTVARS;
12259  merge WORK.TRANS_OUTPUTVARS _temp;
12260  by UNAME;
12261  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12262  *------------------------------------------------------------*;
12263  * Trans3: Get Metadata for the Score Inputs Variables;
12264  *------------------------------------------------------------*;
12265  data _temp;
12266  length UNAME $32;
12267  set EMWS2.Trans3_VariableSet(keep=NAME LEVEL TYPE LABEL);
12268  UNAME = upcase(name);
12269  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS3_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12270  proc sort data=_temp;
12271  by UNAME;
12272  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12273  data WORK.TRANS_SCOREINPUTS;
12274  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12275  by UNAME;
12276  if _a and _b then output;
12277  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12278  *------------------------------------------------------------*;
12279  * Trans3: Computing Summary Statistics;
12280  *------------------------------------------------------------*;
12281  proc dmdb data=EMWS2.Trans3_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12282  class
12283  PCTL_DAYLAST_REV
12284  PCTL_DOLL24
12285  PCTL_FREQPRCH
12286  RFM
12287  ;
12288  ;
12289  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.23 seconds
      cpu time            0.23 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS2_TRAIN.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS3_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 56 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.25 seconds
      cpu time            0.25 seconds
 
 
12290  *------------------------------------------------------------*;
12291  * Trans3: Combine Information and Statistics for Class Variables;
12292  *------------------------------------------------------------*;
12293  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12294  by NAME;
12295  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12296  proc sort data=WORK.TRANS_CLASSSTATS;
12297  by NAME;
12298  run;
 
NOTE: There were 56 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 56 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12299  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12300  retain nlevel nmiss;
12301  set WORK.TRANS_CLASSSTATS;
12302  by Name;
12303  if first.Name then do;
12304  nlevel= 0;
12305  nmiss= 0;
12306  end;
12307  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12308  else nlevel + 1;
12309  if last.name then output;
12310  run;
 
NOTE: There were 56 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12311  /*Merge Statistics for Class Output Vars */
12312  data WORK.TRANS_CLASSSTATS;
12313  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12314  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12315  by NAME;
12316  if _a and _b then do;
12317  SOURCE='Output';
12318  if _MetaFlag = 1 then _METHOD_="Meta";
12319  else if Formula eq 'Interaction' then _METHOD_="Computed";
12320  else if inputName eq '' then _METHOD_="Formula";
12321  else _METHOD_="Computed";
12322  if Formula = '' then Formula = "User Code";
12323  end;
12324  if _a then output;
12325  drop inputName LEVEL TYPE _MetaFlag;
12326  run;
 
NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12327  /*Merge Statistics for Class Input Vars */
12328  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12329  by NAME;
12330  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12331  data WORK.TRANS_CLASSSTATS;
12332  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12333  by NAME;
12334  if _a and _b then do;
12335  SOURCE='Input';
12336  _METHOD_="Original";
12337  end;
12338  if _a then output;
12339  run;
 
NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12340  *------------------------------------------------------------*;
12341  * Trans3: Combine Information and Statistics for Interval Variables;
12342  *------------------------------------------------------------*;
12343  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12344  by NAME;
12345  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12346  proc sort data=WORK.TRANS_VARSTATS;
12347  by NAME;
12348  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12349  *Merge Statistics for Output Vars;
12350  data WORK.TRANS_VARSTATS;
12351  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12352  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12353  by NAME;
12354  if _a and _b then do;
12355  SOURCE='Output';
12356  if _MetaFlag = 1 then _METHOD_="Meta";
12357  else if Formula eq 'Interaction' then _METHOD_="Computed";
12358  else if inputName eq '' then _METHOD_="Formula";
12359  else _METHOD_="Computed";
12360  if Formula = '' then Formula = "Mixture of variables";
12361  end;
12362  if _a then output;
12363  drop inputName LEVEL TYPE _MetaFlag;
12364  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12365  *Merge Statistics for Input Vars;
12366  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12367  by NAME;
12368  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12369  data WORK.TRANS_VARSTATS;
12370  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12371  by NAME;
12372  if _a and _b then do;
12373  SOURCE='Input';
12374  _METHOD_="Original";
12375  end;
12376  if _a then output;
12377  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12378  *------------------------------------------------------------*;
12379  * Trans3: Combine statistics for class and interval variables;
12380  *------------------------------------------------------------*;
12381  data EMWS2.Trans3_STATISTICS;
12382  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12383  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12384     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12385     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12386     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12387     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12388  set
12389  WORK.TRANS_CLASSSTATS
12390  WORK.TRANS_VARSTATS
12391  ;
12392  drop UNAME;
12393  run;
 
NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS3_STATISTICS has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12394  proc sort data=EMWS2.Trans3_STATISTICS;
12395  by SOURCE _METHOD_ NAME;
12396  run;
 
NOTE: There were 4 observations read from the data set EMWS2.TRANS3_STATISTICS.
NOTE: The data set EMWS2.TRANS3_STATISTICS has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12397  proc sort data = EMWS2.Trans3_STATISTICS NOTHREADS;
12398  by SOURCE NAME;
12399  run;
 
NOTE: There were 4 observations read from the data set EMWS2.TRANS3_STATISTICS.
NOTE: The data set EMWS2.TRANS3_STATISTICS has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12400  title9 ' ';
12401  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12402  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12403  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12404  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12405  where SOURCE eq 'INPUT' and mean ne .;
12406  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12407  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12408  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12409  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12410  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12411  where SOURCE eq 'OUTPUT' and mean ne .;
12412  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12413  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12414  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12415  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12416  var Name NLEVEL NMISS;
12417  where SOURCE eq 'INPUT' and nlevel ne .;
12418  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12419  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12420  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12421  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12422  var Name _METHOD_ NLEVEL NMISS;
12423  where SOURCE eq 'OUTPUT' and nlevel ne .;
12424  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12425  title9;
12426  title10;
 
12427  data EMWS2.Trans3_EMSCOREVAR;
12428  length Name $32 formula $300 file $200;
12429  keep NAME Formula file;
12430  set EMWS2.Trans3_STATISTICS;
12431  where SOURCE='Output';
12432  select( _METHOD_);
12433  when('Computed') do;
12434  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12435  formula = '';
12436  end;
12437  when('Formula') do;
12438  if Formula eq 'Mixture of variables' then do;
12439  file= "EDITORCODE.sas";
12440  formula = '';
12441  end;
12442  if Formula = 'User Code' then do;
12443  file= "EDITORCODE.sas";
12444  formula = '';
12445  end;
12446  end;
12447  otherwise;
12448  end;
12449  output;
12450  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS3_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
