*------------------------------------------------------------*
User:                Kyle McLester
Date:                April 13, 2022
Time:                13:51:16
Site:                70080897
Platform:            X64_10HOME
Maintenance Release: 9.04.01M6P111518
EM Version:          15.1
* 
*------------------------------------------------------------*
* Training Log
Date:                April 13, 2022
Time:                13:51:12
*------------------------------------------------------------*
11434  proc freq data=EMWS2.Trans2_VariableSet noprint;
11435  table ROLE*LEVEL/out=WORK.Trans2META;
11436  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS2_VARIABLESET.
NOTE: The data set WORK.TRANS2META has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
11437  proc print data=WORK.Trans2META label noobs;
11438  var ROLE LEVEL COUNT;
11439  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11440  title9 ' ';
11441  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11442  run;
 
NOTE: There were 7 observations read from the data set WORK.TRANS2META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11443  title10;
 
11444  data WORK.M2DH91U7;
11445  set WORK.M2DH91U7;
11446  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11447  run;
 
NOTE: There were 97 observations read from the data set WORK.M2DH91U7.
NOTE: The data set WORK.M2DH91U7 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
11512  *------------------------------------------------------------*;
11513  * Trans: Computing Summary Statistics;
11514  *------------------------------------------------------------*;
11515  data WORK.M0I49Z7E;
11516  set WORK.M0I49Z7E;
11517  if (role = 'REJECTED') then role = 'INPUT';
11518  run;
 
NOTE: There were 92 observations read from the data set WORK.M0I49Z7E.
NOTE: The data set WORK.M0I49Z7E has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11519  *------------------------------------------------------------* ;
11520  * EM: DMDBClass Macro ;
11521  *------------------------------------------------------------* ;
11522  %macro DMDBClass;
11523      BOTHPAYM(ASC) CCPAYM(ASC) METHPAYM(ASC) PCPAYM(ASC) RESPOND(DESC)
11524  %mend DMDBClass;
11525  *------------------------------------------------------------* ;
11526  * EM: DMDBVar Macro ;
11527  *------------------------------------------------------------* ;
11528  %macro DMDBVar;
11529      ACTBUY BUYPROP CATALOGCNT DAYLAST_REV DEPT01 DEPT02 DEPT03 DEPT04 DEPT05
11530     DEPT06 DEPT07 DEPT08 DEPT09 DEPT10 DEPT11 DEPT12 DEPT13 DEPT14 DEPT15 DEPT16
11531     DEPT17 DEPT18 DEPT19 DEPT20 DEPT21 DEPT22 DEPT23 DEPT24 DEPT25 DEPT26 DEPT27
11532     DOLINDEA DOLINDET DOLL24 DOLLARQ01 DOLLARQ02 DOLLARQ03 DOLLARQ04 DOLLARQ05
11533     DOLLARQ06 DOLLARQ07 DOLLARQ08 DOLLARQ09 DOLLARQ10 DOLLARQ11 DOLLARQ12 DOLLARQ13
11534     DOLLARQ14 DOLLARQ15 DOLLARQ16 DOLLARQ17 DOLLARQ18 DOLLARQ19 DOLLARQ20 DOLLARQ21
11535     DOLLARQ22 DOLNETDA DOLNETDT FREQPRCH MONLAST ORDERSIZE TENURE TOTORDQ01
11536     TOTORDQ02 TOTORDQ03 TOTORDQ04 TOTORDQ05 TOTORDQ06 TOTORDQ07 TOTORDQ08 TOTORDQ09
11537     TOTORDQ10 TOTORDQ11 TOTORDQ12 TOTORDQ13 TOTORDQ14 TOTORDQ15 TOTORDQ16 TOTORDQ17
11538     TOTORDQ18 TOTORDQ19 TOTORDQ20 TOTORDQ21 TOTORDQ22 UNITSIDD UNITSLAP UNTLANPO
11539  %mend DMDBVar;
11540  *------------------------------------------------------------*;
11541  * EM: Create DMDB;
11542  *------------------------------------------------------------*;
11543  proc dmdb batch data=EMWS2.Trans_TRAIN
11544  dmdbcat=WORK.EM_DMDB
11545  classout=WORK.Transclassout
11546  maxlevel = 513
11547  ;
11548  class %DMDBClass;
11549  var %DMDBVar;
11550  target
11551  ORDERSIZE
11552  RESPOND
11553  ;
11554  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.18 seconds
      cpu time            0.17 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set WORK.TRANSCLASSOUT has 12 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.20 seconds
      cpu time            0.18 seconds
 
 
11555  quit;
11556  *--- end code ---*;
 
11557  data WORK.TransINTERVALMETA;
11558  set WORK.M2DH91U7;
11559  if LEVEL ne 'INTERVAL' then delete;
11560  run;
 
NOTE: There were 92 observations read from the data set WORK.M2DH91U7.
NOTE: The data set WORK.TRANSINTERVALMETA has 87 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11561  *------------------------------------------------------------*;
11562  * Trans: Determining Variables to Scale;
11563  *------------------------------------------------------------*;
11564  data WORK.M26TEPQ8;
11565  set WORK.M26TEPQ8;
11566  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11567  run;
 
NOTE: There were 0 observations read from the data set WORK.M26TEPQ8.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M26TEPQ8 has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11570  *------------------------------------------------------------*;
11571  * Trans: Computing quantile transformations;
11572  *------------------------------------------------------------*;
11573  %em_varMacro(name=EM_PCTLBINVAR, metadata=WORK.METASET3FB3CRX, key=NAME);
 
NOTE: The file MACFILE is:
      Catalog Name=WORK.EMUTIL.MACRO.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Wed, Apr 13, 2022 01:51:13 PM,
      Last Modified=Wed, Apr 13, 2022 01:51:13 PM,
      Filename=C:\Users\KYLEMC~1\AppData\Local\Temp\SAS Temporary Files\_TD3816_DESKTOP-IGMQS45_\emutil.sas7bcat,
      Release Created=9.0401M6,
      Host Created=X64_10HOME,
      Owner Name=DESKTOP-IGMQS45\Kyle McLester,
      File Size=             5KB,
      File Size (bytes)=5120
 
NOTE: 3 records were written to the file MACFILE.
      The minimum record length was 20.
      The maximum record length was 36.
NOTE: There were 3 observations read from the data set WORK.METASET3FB3CRX.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
NOTE: Fileref MACFILE has been deassigned.
11577  data work.EM_TRANS_STDIZE / view=work.EM_TRANS_STDIZE;
11578  set EMWS2.Trans_TRAIN(keep=%EM_PCTLBINVAR );
11579  run;
 
NOTE: DATA STEP view saved on file WORK.EM_TRANS_STDIZE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
 
11580  data work.TRANS_QUANTMETADS;
11581  set WORK.METASET3FB3CRX;
11582  if NUMBINS eq . then NUMBINS=4;
11583  run;
 
NOTE: There were 3 observations read from the data set WORK.METASET3FB3CRX.
NOTE: The data set WORK.TRANS_QUANTMETADS has 3 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11584  proc sort data=work.TRANS_QUANTMETADS;
11585  by NUMBINS NAME;
11586  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_QUANTMETADS.
NOTE: The data set WORK.TRANS_QUANTMETADS has 3 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11587  data _null_;
11588  set work.TRANS_QUANTMETADS;
11589  length pctlString $200;
11590  length VarString $80;
11591  retain VarString '';
11592  retain Count 0;
11593  by Numbins;
11594  if first.numbins then do;
11595  count + 1;
11596  pctlString = '';
11597  call execute("proc stdize data=work.EM_TRANS_STDIZE outstat=WORK.TransBIN_PCTL out=_null_
11598              pctlpts=");
11599  do i=1 to numbins -1;
11600  pctlString = strip(pctlString)!!' '!!strip(put(i*100/numbins, 5.1));
11601  end;
11602  call execute(strip(pctlString)!!";");
11603  call execute("var ");
11604  VarString = strip(NAME);
11605  end;
11606  else do;
11607  if length(strip(VarString)) + length(strip(NAME)) + 1 < 80 then VarString = strip(VarString)!!' '!!strip(NAME);
11608  else do;
11609  call execute(varString);
11610  VarString = NAME;
11611  end;
11612  end;
11613  if last.numbins then do;
11614  call execute(varString!!';');
11615  call execute("run;");
11616  if count = 1 then call execute("data  WORK.Trans_PCTL;");
11617  else call execute("data  WORK.TransBIN_PCTL;");
11618  call execute("   length _PCTLPTS 8;");
11619  call execute("   set WORK.TransBIN_PCTL(where=(_type_=:'P'));");
11620  call execute("   _PCTLPTS = input(substr(tranwrd(_TYPE_, '_', '.'), 2), best.);");
11621  call execute("run;");
11622  if count ne 1 then do;
11623  call execute("data WORK.Trans_PCTL;");
11624  call execute("   merge WORK.Trans_PCTL WORK.TransBIN_PCTL;");
11625  call execute("   by _PCTLPTS;");
11626  call execute("run;");
11627  end;
11628  end;
11629  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_QUANTMETADS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: CALL EXECUTE generated line.
1     + proc stdize data=work.EM_TRANS_STDIZE outstat=WORK.TransBIN_PCTL out=_null_            pctlpts=
2     + 20.0 40.0 60.0 80.0;
3     + var
4     + DAYLAST_REV DOLL24 FREQPRCH                                                     ;
5     + run;
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: View WORK.EM_TRANS_STDIZE.VIEW used (Total process time):
      real time           0.23 seconds
      cpu time            0.21 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: There were 48356 observations read from the data set WORK.EM_TRANS_STDIZE.
NOTE: The data set WORK.TRANSBIN_PCTL has 12 observations and 4 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.25 seconds
      cpu time            0.24 seconds
 
 
6     + data  WORK.Trans_PCTL;
7     +    length _PCTLPTS 8;
8     +    set WORK.TransBIN_PCTL(where=(_type_=:'P'));
9     +    _PCTLPTS = input(substr(tranwrd(_TYPE_, '_', '.'), 2), best.);
10    + run;
 
NOTE: There were 4 observations read from the data set WORK.TRANSBIN_PCTL.
      WHERE _type_=:'P';
NOTE: The data set WORK.TRANS_PCTL has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.76 seconds
      cpu time            0.60 seconds
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
*------------------------------------------------------------*
*  Trans: Creating EMWS2.Trans2_RESULT
*------------------------------------------------------------*
WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This might cause unexpected results.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11674  data EMWS2.Trans2_RESULT;
11675  length NAME $32 FORMULA $70 POWER 8 ROLE $32 LEVEL $10 INPUTNAME $32 INPUTTYPE $1 LABEL $44;
11676  label INPUTNAME ='Input Name' NAME='Name' POWER='Power' FORMULA='Formula' ROLE='Role' INPUTLEVEL='Input Level' LEVEL='Level' INPUTTYPE='Input Type' TYPE='Type';
11677  set EMWS2.Trans2_RESULT;
11678  if INPUTNAME = '' then INPUTNAME = "Mixture of variables";
11679  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The data set EMWS2.TRANS2_RESULT has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11680  data WORK.M3GG5M_5;
11681  set WORK.M3GG5M_5;
11682  if ROLE='REJECTED' then ROLE='INPUT';
11683  run;
 
NOTE: There were 3 observations read from the data set WORK.M3GG5M_5.
NOTE: The data set WORK.M3GG5M_5 has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
*------------------------------------------------------------*
*  Trans: Computing summary statistics for transformed variables
*------------------------------------------------------------*
11810  data WORK.TRANSFOR_1EJORMR_STATISTIC;
11811  set WORK.Trans_TEMP;
11812  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_TEMP.
NOTE: The data set WORK.TRANSFOR_1EJORMR_STATISTIC has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11813  %exploreSample(DATA=EMWS2.Trans_TRAIN, OUTPUT=EMWS2.Trans2_SAMPLE_DATA, METADATA=EMWS2.Trans_CMeta_TRAIN, VARS=, METHOD=FIRSTN, SIZE=DEFAULT, ALPHA=0.01, PVALUE=0.01, SEED=12345);
NOTE: Fileref X has been deassigned.
NOTE: EXPLOREOBS EMWS2.Trans_TRAIN : vars= 99 : recl= 768 : max=20000 : def= 2000
PERFORMANCE  DETAILS
*------------------------------------------------------------*
* FirstN/Top sample
*------------------------------------------------------------*
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.10 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 2000 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set EMWS2.TRANS2_SAMPLE_DATA has 2000 observations and 99 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.12 seconds
 
 
 
11990  proc print data = EMWS2.Trans2_RESULT(obs=500) noobs label;
11991  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_computedtransformations_title, NOQUOTE))";
11992  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11993  var INPUTNAME ROLE INPUTLEVEL NAME LEVEL FORMULA;
11994  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11995  title9;
11996  title10;
 
*------------------------------------------------------------*
* Score Log
Date:                April 13, 2022
Time:                13:51:15
*------------------------------------------------------------*
12098  proc sort data=EMWS2.Trans2_RESULT out=WORK.Trans2RESULT NOTHREADS;
12099  by INPUTNAME;
12100  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The data set WORK.TRANS2RESULT has 3 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12101  proc sort data=EMWS2.Trans2_VariableSet(KEEP= NAME FAMILY REPORT rename=(NAME=INPUTNAME)) out=WORK.Trans2VARSET NOTHREADS;
12102  by INPUTNAME;
12103  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS2_VARIABLESET.
NOTE: The data set WORK.TRANS2VARSET has 97 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12104  data WORK.Trans2RESULT;
12105  merge WORK.Trans2RESULT WORK.Trans2VARSET;
12106  by INPUTNAME;
12107  if NAME ne '' then output;
12108  run;
 
WARNING: Multiple lengths were specified for the BY variable INPUTNAME by input data sets. This might cause unexpected results.
NOTE: There were 3 observations read from the data set WORK.TRANS2RESULT.
NOTE: There were 97 observations read from the data set WORK.TRANS2VARSET.
NOTE: The data set WORK.TRANS2RESULT has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12109  filename _code "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans2\TRAINDELTACODE.sas";
12110  data _null_;
12111  set WORK.Trans2RESULT;
12112  length String $200;
12113  file _code;
12114  String = 'if NAME="'!!strip(name)!!'" then do;';
12115  put / String;
12116  if family ne '' then do;
12117  String = '   FAMILY ="'!!strip(family)!!'";';
12118  put String;
12119  end;
12120  select(formula);
12121  when('Interaction') put '   FAMILY  ="INTERACTION";';
12122  when('') put '   COMMENT = "' method 'transformation of ' INPUTVAR '";';
12123  otherwise put '   COMMENT = "' formula '";';
12124  end;
12125  String = '   ROLE ="'!!strip(role)!!'";';
12126  put String;
12127  if REPORT="" then REPORT = "N";
12128  String = '   REPORT ="'!!strip(report)!!'";';
12129  put String;
12130  String = '   LEVEL  ="'!!strip(level)!!'";';
12131  put String;
12132  put 'end;';
12133  if formula ne 'Interaction' and INPUTNAME ne '' then do;
12134  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
12135  put String;
12136  end;
12137  run;
 
NOTE: Variable method is uninitialized.
NOTE: Variable INPUTVAR is uninitialized.
NOTE: The file _CODE is:
      Filename=C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans2\TRAINDELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=13Apr2022:13:51:14,
      Create Time=13Apr2022:13:51:14
 
NOTE: 24 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 3 observations read from the data set WORK.TRANS2RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12138  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
12139  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans2\EMFLOWSCORE.sas";
12140  *------------------------------------------------------------*;
12141  * Trans2: Scoring DATA data;
12142  *------------------------------------------------------------*;
12143  data EMWS2.Trans2_TRAIN
12144  / view=EMWS2.Trans2_TRAIN
12145  ;
12146  set EMWS2.Trans_TRAIN
12147  ;
12148  %inc emflow;
12212  run;
 
NOTE: DATA STEP view saved on file EMWS2.TRANS2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
 
12213  quit;
12214  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
12215  *------------------------------------------------------------*;
12216  * Trans2: Computing metadata for TRAIN data;
12217  *------------------------------------------------------------*;
 
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.11 seconds
      cpu time            0.10 seconds
 
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 13, 2022
Time:                13:51:16
*------------------------------------------------------------*
12605  *------------------------------------------------------------*;
12606  * &msgString;
12607  *------------------------------------------------------------*;
12608  filename _flowref "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS2\Trans2\EMFLOWSCORE.sas";
12609  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12610  %INCLUDE _flowref;
12674  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12675  quit;
12676  data WORK.TRANS_SCOREINPUTS;
12677  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12678  length UNAME $32;
12679  UNAME = upcase(NAME);
12680  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12681  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12682  by UNAME;
12683  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12684  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12685  %let SYSCC = 0;
12686  *------------------------------------------------------------*;
12687  * transformcombinevariables;
12688  *------------------------------------------------------------*;
12689  data WORK.TRANS_OUTPUTVARS;
12690  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12691  set
12692  EMWS2.Trans2_RESULT
12693  ;
12694  _MetaFlag=0;
12695  uname = upcase(name);
12696  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12697  data _temp;
12698  length UNAME $32;
12699  set EMWS2.Trans2_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12700  UNAME = upcase(name);
12701  where upcase(CREATOR) = upcase("Trans2");
12702  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS2';
NOTE: The data set WORK._TEMP has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12703  proc sort data=_temp(drop=CREATOR);
12704  by UNAME;
12705  run;
 
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12706  proc sort data=WORK.TRANS_OUTPUTVARS;
12707  by UNAME;
12708  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12709  data WORK.TRANS_OUTPUTVARS;
12710  merge WORK.TRANS_OUTPUTVARS _temp;
12711  by UNAME;
12712  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12713  *------------------------------------------------------------*;
12714  * Trans2: Get Metadata for the Score Inputs Variables;
12715  *------------------------------------------------------------*;
12716  data _temp;
12717  length UNAME $32;
12718  set EMWS2.Trans2_VariableSet(keep=NAME LEVEL TYPE LABEL);
12719  UNAME = upcase(name);
12720  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS2_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12721  proc sort data=_temp;
12722  by UNAME;
12723  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12724  data WORK.TRANS_SCOREINPUTS;
12725  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12726  by UNAME;
12727  if _a and _b then output;
12728  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12729  *------------------------------------------------------------*;
12730  * Trans2: Computing Summary Statistics;
12731  *------------------------------------------------------------*;
12732  proc dmdb data=EMWS2.Trans2_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12733  class
12734  PCTL_DAYLAST_REV
12735  PCTL_DOLL24
12736  PCTL_FREQPRCH
12737  ;
12738  var
12739  DAYLAST_REV
12740  DOLL24
12741  FREQPRCH
12742  ;
12743  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.18 seconds
      cpu time            0.18 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS2_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.20 seconds
      cpu time            0.20 seconds
 
 
12744  *------------------------------------------------------------*;
12745  * Trans2: Combine Information and Statistics for Class Variables;
12746  *------------------------------------------------------------*;
12747  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12748  by NAME;
12749  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12750  proc sort data=WORK.TRANS_CLASSSTATS;
12751  by NAME;
12752  run;
 
NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12753  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12754  retain nlevel nmiss;
12755  set WORK.TRANS_CLASSSTATS;
12756  by Name;
12757  if first.Name then do;
12758  nlevel= 0;
12759  nmiss= 0;
12760  end;
12761  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12762  else nlevel + 1;
12763  if last.name then output;
12764  run;
 
NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12765  /*Merge Statistics for Class Output Vars */
12766  data WORK.TRANS_CLASSSTATS;
12767  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12768  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12769  by NAME;
12770  if _a and _b then do;
12771  SOURCE='Output';
12772  if _MetaFlag = 1 then _METHOD_="Meta";
12773  else if Formula eq 'Interaction' then _METHOD_="Computed";
12774  else if inputName eq '' then _METHOD_="Formula";
12775  else _METHOD_="Computed";
12776  if Formula = '' then Formula = "User Code";
12777  end;
12778  if _a then output;
12779  drop inputName LEVEL TYPE _MetaFlag;
12780  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12781  /*Merge Statistics for Class Input Vars */
12782  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12783  by NAME;
12784  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12785  data WORK.TRANS_CLASSSTATS;
12786  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12787  by NAME;
12788  if _a and _b then do;
12789  SOURCE='Input';
12790  _METHOD_="Original";
12791  end;
12792  if _a then output;
12793  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12794  *------------------------------------------------------------*;
12795  * Trans2: Combine Information and Statistics for Interval Variables;
12796  *------------------------------------------------------------*;
12797  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12798  by NAME;
12799  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12800  proc sort data=WORK.TRANS_VARSTATS;
12801  by NAME;
12802  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12803  *Merge Statistics for Output Vars;
12804  data WORK.TRANS_VARSTATS;
12805  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12806  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12807  by NAME;
12808  if _a and _b then do;
12809  SOURCE='Output';
12810  if _MetaFlag = 1 then _METHOD_="Meta";
12811  else if Formula eq 'Interaction' then _METHOD_="Computed";
12812  else if inputName eq '' then _METHOD_="Formula";
12813  else _METHOD_="Computed";
12814  if Formula = '' then Formula = "Mixture of variables";
12815  end;
12816  if _a then output;
12817  drop inputName LEVEL TYPE _MetaFlag;
12818  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12819  *Merge Statistics for Input Vars;
12820  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12821  by NAME;
12822  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12823  data WORK.TRANS_VARSTATS;
12824  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12825  by NAME;
12826  if _a and _b then do;
12827  SOURCE='Input';
12828  _METHOD_="Original";
12829  end;
12830  if _a then output;
12831  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12832  *------------------------------------------------------------*;
12833  * Trans2: Combine statistics for class and interval variables;
12834  *------------------------------------------------------------*;
12835  data EMWS2.Trans2_STATISTICS;
12836  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12837  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12838     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12839     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12840     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12841     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12842  set
12843  WORK.TRANS_CLASSSTATS
12844  WORK.TRANS_VARSTATS
12845  ;
12846  drop UNAME;
12847  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12848  proc sort data=EMWS2.Trans2_STATISTICS;
12849  by SOURCE _METHOD_ NAME;
12850  run;
 
NOTE: There were 6 observations read from the data set EMWS2.TRANS2_STATISTICS.
NOTE: The data set EMWS2.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12851  proc sort data = EMWS2.Trans2_STATISTICS NOTHREADS;
12852  by SOURCE NAME;
12853  run;
 
NOTE: There were 6 observations read from the data set EMWS2.TRANS2_STATISTICS.
NOTE: The data set EMWS2.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12854  title9 ' ';
12855  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12856  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12857  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12858  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12859  where SOURCE eq 'INPUT' and mean ne .;
12860  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12861  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12862  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12863  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12864  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12865  where SOURCE eq 'OUTPUT' and mean ne .;
12866  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12867  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12868  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12869  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12870  var Name NLEVEL NMISS;
12871  where SOURCE eq 'INPUT' and nlevel ne .;
12872  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12873  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12874  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12875  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12876  var Name _METHOD_ NLEVEL NMISS;
12877  where SOURCE eq 'OUTPUT' and nlevel ne .;
12878  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12879  title9;
12880  title10;
 
12881  data EMWS2.Trans2_EMSCOREVAR;
12882  length Name $32 formula $300 file $200;
12883  keep NAME Formula file;
12884  set EMWS2.Trans2_STATISTICS;
12885  where SOURCE='Output';
12886  select( _METHOD_);
12887  when('Computed') do;
12888  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12889  formula = '';
12890  end;
12891  when('Formula') do;
12892  if Formula eq 'Mixture of variables' then do;
12893  file= "EDITORCODE.sas";
12894  formula = '';
12895  end;
12896  if Formula = 'User Code' then do;
12897  file= "EDITORCODE.sas";
12898  formula = '';
12899  end;
12900  end;
12901  otherwise;
12902  end;
12903  output;
12904  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS2_EMSCOREVAR has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
