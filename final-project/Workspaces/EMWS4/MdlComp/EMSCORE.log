*------------------------------------------------------------*
* Score Log
Date:                May 05, 2022
Time:                11:02:09
*------------------------------------------------------------*
NOTE: View EMWS4.TREE2_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: View EMWS4.TREE2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
12370  /* Generate assessment metadata, which will be used to generate assessment data step */
12371  /* code, such as retrieving names of temporary variables and summary variables,      */
12372  /* labels, etc.  It is used in almost all the assessment computations such as lift,  */
12373  /* roc, index, scoreDist and could be thought as a global variable in assessment     */
12374  /* computation.                                                                      */
12375  data work.ASSESS_31K2L1Q_assessMeta_uDfcAJ;
12376  length VARIABLE $32 FORMAT $44 TYPE $32 PARENT $32 LEVEL $32 PROPERTY $32 MEASUREMENT $10 LAST_LEVEL $32 GEN_VAR_IN_TEMP_DATA $32 RESULT_MEAN $32 RESULT_MEAN_LABEL $100 RESULT_MIN $32 RESULT_MIN_LABEL $100 MIN_ADJUSTED $32 RESULT_MAX $32
12376! RESULT_MAX_LABEL
12377     $100 MAX_ADJUSTED $32 RESULT_COUNT $32 RESULT_COUNT_LABEL $100 TEMPORARY_VARIABLE $32;
12378  VARIABLE = "RESPOND";
12379  PARENT = "";
12380  FORMAT = "";
12381  TYPE = "";
12382  LEVEL = '';
12383  PROPERTY = "TARGET";
12384  MEASUREMENT = "BINARY";
12385  LAST_LEVEL = '';
12386  GEN_VAR_IN_TEMP_DATA = "RESPOND";
12387  RESULT_MEAN = "";
12388  RESULT_MEAN_LABEL = "";
12389  RESULT_MIN = "";
12390  RESULT_MIN_LABEL = "";
12391  MIN_ADJUSTED = "";
12392  RESULT_MAX = "";
12393  RESULT_MAX_LABEL = "";
12394  MAX_ADJUSTED = "";
12395  RESULT_COUNT = "";
12396  RESULT_COUNT_LABEL = "";
12397  TEMPORARY_VARIABLE = "RESPOND_1i_cpO5mZ_DzhAJ";
12398  output;
12399  VARIABLE = "F_RESPOND_1";
12400  FORMAT = "";
12401  TYPE = "";
12402  PARENT = "F_RESPOND";
12403  LEVEL = "1";
12404  PROPERTY = "TARGET_LEVEL";
12405  MEASUREMENT = "INTERVAL";
12406  LAST_LEVEL = "0";
12407  GEN_VAR_IN_TEMP_DATA = "F_RESPOND_1_E0jVFr4nnve9ajT";
12408  RESULT_MEAN = "F_RESPOND__mean_sQTfc6q63SQ3hXn";
12409  /* adjust for tied cases */
12410  RESULT_MEAN_LABEL = "";
12411  RESULT_MIN = "";
12412  RESULT_MIN_LABEL = "";
12413  RESULT_MAX = "";
12414  RESULT_MAX_LABEL = "";
12415  RESULT_COUNT = "NumberOfEvents";
12416  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12417  TEMPORARY_VARIABLE = "F_RESPOND_1_4vYrFdggqFFoqqn";
12418  output;
12419  VARIABLE = "F_RESPOND_0";
12420  FORMAT = "";
12421  TYPE = "";
12422  PARENT = "F_RESPOND";
12423  LEVEL = "0";
12424  PROPERTY = "TARGET_LEVEL";
12425  MEASUREMENT = "INTERVAL";
12426  LAST_LEVEL = "0";
12427  GEN_VAR_IN_TEMP_DATA = "F_RESPOND_0_j1yxh_SHHGwj6Ab";
12428  RESULT_MEAN = "F_RESPOND__mean_UNm61hzhCBe95zy";
12429  /* adjust for tied cases */
12430  RESULT_MEAN_LABEL = "";
12431  RESULT_MIN = "";
12432  RESULT_MIN_LABEL = "";
12433  RESULT_MAX = "";
12434  RESULT_MAX_LABEL = "";
12435  RESULT_COUNT = "NumberOfEvents";
12436  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12437  TEMPORARY_VARIABLE = "F_RESPOND_0_UMhNUDq0z7wSbpG";
12438  output;
12439  VARIABLE = "P_RESPOND1";
12440  FORMAT = "";
12441  TYPE = "";
12442  PARENT = "";
12443  LEVEL = "1";
12444  PROPERTY = "POSTERIOR_LEVEL";
12445  MEASUREMENT = "INTERVAL";
12446  LAST_LEVEL = "";
12447  GEN_VAR_IN_TEMP_DATA = "P_RESPOND1";
12448  RESULT_MEAN = "_meanP_";
12449  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12450  RESULT_MIN = "_minP_";
12451  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12452  MIN_ADJUSTED = "P_RESPON_minAdjusted_5vhtiNcIT";
12453  RESULT_MAX = "_maxP_";
12454  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12455  MAX_ADJUSTED = "P_RESPON_maxAdjusted_jwLpqS1_r";
12456  RESULT_COUNT = "";
12457  RESULT_COUNT_LABEL = "";
12458  TEMPORARY_VARIABLE = "P_RESPOND1_30U1nNySt8zm3ht";
12459  output;
12460  VARIABLE = "P_RESPOND0";
12461  FORMAT = "";
12462  TYPE = "";
12463  PARENT = "";
12464  LEVEL = "0";
12465  PROPERTY = "POSTERIOR_LEVEL";
12466  MEASUREMENT = "INTERVAL";
12467  LAST_LEVEL = "";
12468  GEN_VAR_IN_TEMP_DATA = "P_RESPOND0";
12469  RESULT_MEAN = "_meanP_";
12470  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12471  RESULT_MIN = "_minP_";
12472  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12473  MIN_ADJUSTED = "P_RESPON_minAdjusted_K7ML7lli5";
12474  RESULT_MAX = "_maxP_";
12475  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12476  MAX_ADJUSTED = "P_RESPON_maxAdjusted_s8f0VK4ao";
12477  RESULT_COUNT = "";
12478  RESULT_COUNT_LABEL = "";
12479  TEMPORARY_VARIABLE = "P_RESPOND0_5K8NPKMhNmScnXq";
12480  output;
12481  run;

NOTE: The data set WORK.ASSESS_31K2L1Q_ASSESSMETA_UDFCAJ has 5 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12482  /* Generate temporary dataset and obtain summary statistics such as total number of   */
12483  /* obserations, frequency of target.  However, summary statistics for class reporting */
12484  /* variabels are not computed here since if there exist class reporting variables,    */
12485  /* then PROC DMDB will be called. And there is no need to compute interval reporting  */
12486  /* summary statisitcs, if any.                                                        */
12487  data work.ASSESS_31K2L1Q_normSD_zxWyP8(drop=
12488  _numberOfObservation_
12489  _levelFrequency_1
12490  _levelFrequency_2
12491  )
12492  work.ASSESS_31K2L1Q_meansAndTi_CmOicP (keep=
12493  _numberOfObservation_
12494  _levelFrequency_1
12495  _levelFrequency_2
12496  );
12497  set EMWS4.Tree2_TRAIN(
12498  where=(
12499  (RESPOND ^= .)
12500  )
12501  ) end=_lastObservation_;
12502  keep frequency_u7OndJ;
12503  frequency_u7OndJ = 1;
12504  keep I_RESPOND F_RESPOND;
12505  keep F_RESPOND_1_E0jVFr4nnve9ajT;
12506  if (F_RESPOND = '1') then do;
12507  F_RESPOND_1_E0jVFr4nnve9ajT = 1;
12508  end;
12509  else do;
12510  F_RESPOND_1_E0jVFr4nnve9ajT = 0;
12511  end;
12512  keep F_RESPOND_0_j1yxh_SHHGwj6Ab;
12513  if (F_RESPOND = '0') then do;
12514  F_RESPOND_0_j1yxh_SHHGwj6Ab = 1;
12515  end;
12516  else do;
12517  F_RESPOND_0_j1yxh_SHHGwj6Ab = 0;
12518  end;
12519  keep P_RESPOND1;
12520  keep P_RESPOND0;
12521  output work.ASSESS_31K2L1Q_normSD_zxWyP8;
12522  keep _numberOfObservation_;
12523  retain _numberOfObservation_ 0;
12524  _numberOfObservation_ + frequency_u7OndJ;
12525  keep _levelFrequency_1;
12526  retain _levelFrequency_1 0;
12527  if (F_RESPOND = '1') then do;
12528  _levelFrequency_1 + frequency_u7OndJ;
12529  end;
12530  keep _levelFrequency_2;
12531  retain _levelFrequency_2 0;
12532  if (F_RESPOND = '0') then do;
12533  _levelFrequency_2 + frequency_u7OndJ;
12534  end;
12535  if _lastObservation_ then do;
12536  output work.ASSESS_31K2L1Q_meansAndTi_CmOicP;
12537  end;
12538  run;

NOTE: Variable _WARN_ is uninitialized.
NOTE: View EMWS4.TREE2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
NOTE: There were 32235 observations read from the data set EMWS4.PART_TRAIN.
NOTE: There were 32235 observations read from the data set EMWS4.TREE2_TRAIN.
      WHERE RESPOND not = .;
NOTE: The data set WORK.ASSESS_31K2L1Q_NORMSD_ZXWYP8 has 32235 observations and 7 variables.
NOTE: The data set WORK.ASSESS_31K2L1Q_MEANSANDTI_CMOICP has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

12539  data WORK._EMRANK;
12540  set EMWS4.MdlComp_EMRANK;
12541  where MODEL = "Tree2" and TARGET = "RESPOND" and dataRole="TRAIN";
12542  run;

NOTE: There were 20 observations read from the data set EMWS4.MDLCOMP_EMRANK.
      WHERE (MODEL='Tree2') and (TARGET='RESPOND') and (dataRole='TRAIN');
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12543  data work._augment;
12544  do BIN= 1 to 20;
12545  DECILE = BIN*5;
12546  output;
12547  end;
12548  run;

NOTE: The data set WORK._AUGMENT has 20 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12549  data WORK._EMRANK;
12550  merge WORK._AUGMENT WORK._EMRANK;
12551  by BIN;
12552  run;

NOTE: There were 20 observations read from the data set WORK._AUGMENT.
NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12553  data WORK._EMRANK;
12554  set WORK._EMRANK end=_lastObservation_;
12555  retain _previousMinP_ _previousMaxP_;
12556  retain _group_ 1;
12557  keep event;
12558  keep bin _cutoff_ _group_;
12559  if (bin > 1) then do;
12560  bin = bin - 1;
12561  _cutoff_ = (_maxP_ + _previousMinP_) / 2;
12562  if (abs(_previousMaxP_ - _previousMinP_) < 1E-6) then do;
12563  /* tied */
12564  _cutoff_ = max((_minP_ + _maxP_)/2, min(_cutoff_, _previousMinP_/*-1E-6*/
12565  ));
12566  end;
12567  else if (abs(_maxP_ - _minP_) < 1E-6) then do;
12568  /* next tied */
12569  _cutoff_ = min((_previousMinP_ + _previousMaxP_)/2, max(_cutoff_, _maxP_/*+ 1E-6*/
12570  ));
12571  end;
12572  output;
12573  *if ( abs((_maxP_ +_minP_)/2 - (_previousMaxP_ + _previousMinP_)/2) > 1E-6) then do;
12574  * _group_ + 1;
12575  *end;
12576  if (_maxP_ le _previousMinP_ - 1E-6) then do;
12577  _group_ + 1;
12578  end;
12579  else if (abs(_maxP_ - _previousMinP_) < 1E-6) then do;
12580  if (abs(_maxP_ - _minP_) > 1E-6) then do;
12581  _group_ + 1;
12582  end;
12583  end;
12584  bin + 1;
12585  /* correct the previous change */
12586  end;
12587  if (_lastObservation_) then do;
12588  _cutoff_ = .;
12589  output;
12590  end;
12591  _previousMinP_ = _minP_;
12592  _previousMaxP_ = _maxP_;
12593  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12594  data WORK._EMRANK;
12595  set WORK._EMRANK;
12596  by _group_;
12597  retain _start_;
12598  if (first._group_) then do;
12599  _start_ = _n_;
12600  end;
12601  if (last._group_) then do;
12602  _end_ = _n_;
12603  output;
12604  end;
12605  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
12606  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS4\MdlComp\EMFLOWSCORE.sas";
12607  *------------------------------------------------------------*;
12608  * MdlComp: Scoring TREE2_TRAIN data;
12609  *------------------------------------------------------------*;
12610  data EMWS4.MdlComp_TRAIN
12611  / view=EMWS4.MdlComp_TRAIN
12612  ;
12613  set EMWS4.Tree2_TRAIN
12614  ;
12615  %inc emflow;
12635  run;

NOTE: DATA STEP view saved on file EMWS4.MDLCOMP_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.TREE2_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

12636  quit;
12637  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12638  filename emflow "C:\Users\Kyle McLester\Desktop\dsba-6201\final-project\Workspaces\EMWS4\MdlComp\EMFLOWSCORE.sas";
12639  *------------------------------------------------------------*;
12640  * MdlComp: Scoring TREE2_VALIDATE data;
12641  *------------------------------------------------------------*;
12642  data EMWS4.MdlComp_VALIDATE
12643  / view=EMWS4.MdlComp_VALIDATE
12644  ;
12645  set EMWS4.Tree2_VALIDATE
12646  ;
12647  %inc emflow;
12667  run;

NOTE: DATA STEP view saved on file EMWS4.MDLCOMP_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.TREE2_VALIDATE.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

12668  quit;
12669  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12670  *------------------------------------------------------------*;
12671  * MdlComp: Computing metadata for TRAIN data;
12672  *------------------------------------------------------------*;

NOTE: View EMWS4.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS4.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS4.MDLCOMP_VALIDATE.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
